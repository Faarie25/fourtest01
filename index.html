<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#FFFFFF"> <!-- Premium mobile browser tint -->
    <title>FOUR | Design That Organizes Life. Precision in Every Corner.</title>
    <meta name="description" content="FOUR is a modern brand offering space organization solutionsâ€”dari bedroom ke workspaceâ€”combining minimalist design, maximum function, dan smart modularity.">
    <!-- OpenGraph/SEO placeholders -->
    <meta property="og:title" content="FOUR | Precision in Every Corner">
    <meta property="og:description" content="Minimal form. Maximum functionâ€”built for modern desks and rooms.">
    <meta property="og:type" content="website">

    <!-- START MODIFICATION: LOAD INTER FONT (UGREEN STYLE) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <!-- END MODIFICATION -->

    <!-- Load Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- START MODIFICATION (PATCH A): Konfigurasi Tailwind diletakkan SETELAH CDN dimuat -->
    <script>
      // Wajib menggunakan window.tailwind agar tidak ada ReferenceError
      window.tailwind = window.tailwind || {};
      window.tailwind.config = {
        theme: {
          extend: {
            colors: {
              // Menggunakan variabel CSS yang didefinisikan di <style>
              'matte-black': 'var(--color-matte-black)',
              'warm-white': 'var(--color-warm-white)',
              'soft-gray': 'var(--color-soft-gray)',
              'muted-navy': 'var(--color-muted-navy)',
              'soft-gold': 'var(--color-soft-gold)',
            },
            fontFamily: {
              // Update font family to use variable that includes Inter
              sans: ['var(--font-sans)'],
              display: ['var(--font-sans)'], 
            },
            spacing: {
              '18': '4.5rem',
              '22': '5.5rem',
              '30': '7.5rem',
            },
            boxShadow: {
              'soft': '0 10px 30px -10px rgba(10, 10, 10, 0.05), 0 4px 6px -2px rgba(10, 10, 10, 0.01)',
              'premium': '0 20px 60px -15px rgba(10, 10, 10, 0.1), 0 8px 16px -4px rgba(10, 10, 10, 0.05)',
            }
          }
        }
      };
    </script>
    <!-- END MODIFICATION (PATCH A) -->

    <style>
        /* Custom Tailwind Configuration for the premium feel */
        :root {
            /* FOUR Design Tokens */
            --color-matte-black: #000000; 
            --color-warm-white: #FFFFFF; /* PURE WHITE */
            --color-soft-gray: #C7C7C7;
            --color-muted-navy: #2D3A45;
            --color-soft-gold: #D9C78F;
            --color-milk-green-placeholder: #F0F5F0; 

            /* Global Typography: INTER Primary (UGREEN-like consistency) */
            /* Fallbacks: system-ui -> Apple -> Segoe UI -> Roboto -> Helvetica -> Arial */
            --font-sans: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Helvetica, Arial, sans-serif;
        }

        /* Base styles - Apply system font globally */
        body {
            font-family: var(--font-sans); 
            background-color: var(--color-warm-white);
            color: var(--color-matte-black);
            line-height: 1.5; 
            letter-spacing: -0.01em; 
            
            /* GLOBAL FONT SMOOTHING (Essential for Inter/Clean Look) */
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        /* 1. Set global smooth scroll behavior */
        html {
            scroll-behavior: smooth;
        }

        /* 2. Set scroll margin (offset) for fixed header (h-16 = 4rem, use 110px for safety/spacing) */
        .scroll-anchor {
            scroll-margin-top: 110px; 
        }

        /* Premium Buttons (Corners are now square) */
        .btn-primary {
            @apply px-8 py-3.5 text-sm font-semibold tracking-wide uppercase transition duration-300 ease-in-out shadow-premium transform active:scale-98;
        }

        .btn-dark {
            @apply bg-matte-black text-warm-white hover:bg-muted-navy hover:shadow-lg;
        }

        .btn-outline {
            @apply border border-matte-black text-matte-black hover:bg-matte-black hover:text-warm-white;
        }
        
        /* FINAL FIX: Kill all pseudo-elements in CTA and its children (CRITICAL FIX) */
        .btn-ugreen-cta::before,
        .btn-ugreen-cta::after,
        .btn-ugreen-cta *::before,
        .btn-ugreen-cta *::after {
          content: none !important;
          display: none !important;
          border: 0 !important;
          box-shadow: none !important;
        }

        /* NEW CTA Style for UGREEN Section - REVISED (FINAL POLISH) */
        .btn-ugreen-cta {
            /* Lock the container and shape */
            display: inline-flex !important;
            align-items: center !important;
            justify-content: center !important;
            gap: 10px !important; 
            
            overflow: hidden !important;     /* CRITICAL: Hide leaking shapes/pseudo-elements */
            box-sizing: border-box !important;
            line-height: 1 !important;        /* Prevent vertical misalignment */
            position: relative !important;    /* For robust styling */

            /* Default State: Pill, Transparent Background, Black Text, Gray Outline */
            font-weight: 600; /* Use semibold for consistency */
            font-size: 14px; /* Use smaller size for elegance */
            letter-spacing: 0.05em;
            text-transform: uppercase;
            transition: all 200ms ease-in-out;
            white-space: nowrap;

            padding: 12px 24px !important; /* Set specific padding (slightly wider) */
            border-radius: 9999px !important; /* **PILL SHAPE** */
            border: 1px solid #D9D9D9 !important; /* Grey outline */
            color: var(--color-matte-black) !important; 
            background: transparent !important;
            text-decoration: none;
            box-shadow: none !important; 
        }

        .btn-ugreen-cta:hover {
            /* Hover State: Black Background, White Text, White Outline */
            background: var(--color-matte-black) !important;
            color: var(--color-warm-white) !important;
            border-color: var(--color-warm-white) !important;
        }

        /* CTA Arrow and Span Styling - Ensure no internal borders */
        .btn-ugreen-cta span,
        .btn-ugreen-cta svg {
            border: 0 !important;
            border-radius: 0 !important;
            background: transparent !important;
        }

        /* CTA Arrow Styling - Using SVG for consistency and control */
        .btn-ugreen-cta .cta-arrow-svg {
            width: 14px !important; /* Slightly smaller than text */
            height: 14px !important;
            margin-left: 8px !important;
            flex-shrink: 0 !important;
            stroke: currentColor !important; /* Inherit color from parent (black by default, white on hover) */
            fill: none !important;
            transition: stroke 200ms ease;
        }

        /* =======================================================
            HEADER SCROLL/TRANSPARENCY FIX
            ======================================================= */
        #main-header {
            z-index: 999 !important; /* Pastikan header selalu di atas */
            position: fixed; 
            top: 0; left: 0; right: 0;
            /* Border and border transition are removed for a cleaner look */
        }
        
        /* 1. Header Background Layer (Pseudo-element) */
        #main-header::before {
            content: "";
            position: absolute;
            inset: 0;
            background: var(--color-warm-white); 
            backdrop-filter: blur(8px);
            transition: opacity 300ms ease, backdrop-filter 300ms ease;
            opacity: 1; /* Default: Opaque */
            z-index: 1;
        }
        
        /* 2. State: Header is at the top (Transparent) */
        #main-header.is-top::before {
            opacity: 0;
            backdrop-filter: blur(0px); /* Clear filter when transparent */
        }

        /* 4. Content Wrapper: Ensure content is above the pseudo-element (z-index 2) */
        #main-header .header-content-wrapper {
             position: relative;
             z-index: 2;
        }

        /* Hapus style lama yang konflik dengan pseudo-element */
        .sticky-header, .scrolled {
            background-color: transparent !important;
        }
        
        /* Desktop Nav Links Styling */
        .header-nav-link {
            @apply text-sm font-medium tracking-wide transition duration-300 ease-in-out hover:opacity-75;
            color: var(--color-matte-black) !important;
        }
        
        /* Desktop Nav Link Fix when transparent (is-top) */
        #main-header.is-top .header-nav-link {
            color: var(--color-warm-white) !important;
        }
        
        /* ==================================================
            UGREEN MOBILE DRAWER STYLES
            ================================================== */
        #mobile-drawer-overlay {
            /* Overlay untuk dimming content di belakang drawer */
            background-color: rgba(0, 0, 0, 0.5); /* Use dark translucent for dimming */
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease-in-out;
            position: fixed;
            inset: 0;
            z-index: 30; /* DI BAWAH header (z-40) dan DI BAWAH drawer (z-35) */
            pointer-events: none;
        }

        #mobile-drawer-overlay.active {
            opacity: 1;
            visibility: visible;
            pointer-events: auto;
        }

        /* Laci/Menu Utama - SLIDING LEFT (UGREEN Style: Full Width, Below Header) */
        #mobile-drawer {
            transform: translateX(-100vw);
            transition: transform 0.3s ease-in-out; 
            /* Dimensions (Full Width, Height below header) */
            width: 100vw; /* FULL WIDTH */
            max-width: none; 
            height: calc(100vh - 4rem); /* 100vh minus h-16 (4rem) header height */
            background-color: var(--color-warm-white);
            /* Positioning */
            position: fixed; 
            top: 4rem; /* Start right below the 4rem (h-16) header */
            left: 0;
            /* Layout */
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            /* Style */
            box-shadow: none; /* Clean appearance */
            border-radius: 0; 
            z-index: 35; /* DI BAWAH header (z-40) */
        }

        /* State normal open */
        #mobile-drawer-overlay.active #mobile-drawer {
          transform: translateX(0);
        }

        /* State closing (slide out ke kiri) */
        #mobile-drawer-overlay.closing #mobile-drawer {
          transform: translateX(-100vw);
        }

        /* START MODIFICATION (A): CSS 2-Step Close Fix */
        /* Overlay fade out saat closing (LOGIKA LAMA DIHAPUS, DIGANTI INI) */
        #mobile-drawer-overlay.closing {
          opacity: 1;                    /* jangan 0 dulu */
          pointer-events: auto;        /* jangan dimatiin dulu */
        }

        /* Overlay fade-out baru terjadi setelah active dilepas (jadi aman) */
        #mobile-drawer-overlay:not(.active) {
          opacity: 0;
          visibility: hidden;
          pointer-events: none;
        }
        /* END MODIFICATION (A) */
        
        /* Style untuk Main Menu Items - UGREEN Spacing & Divider */
        .drawer-nav-item {
            /* FIX 1: Memaksa teks tidak melipat agar ikon tetap di samping kanan */
            white-space: nowrap; 
            overflow: hidden;
            text-overflow: ellipsis; 
            
            @apply py-4 font-semibold text-matte-black text-lg sm:text-xl transition duration-150 ease-in-out flex justify-between items-center;
            /* Important for <a> tag to take full available width in parent nav */
            width: 100%;
            border-bottom: 1px solid rgba(0, 0, 0, 0.08); /* Thin, clean divider */
        }

        .drawer-nav-item:hover {
            background-color: rgba(0, 0, 0, 0.03); /* Very subtle hover */
        }
        
        /* Style for Chevron Icon */
        .drawer-arrow {
            color: var(--color-matte-black); 
            opacity: 0.6; /* Subtle */
            transition: opacity 0.15s ease-in-out;
            flex-shrink: 0;
        }

        .drawer-nav-item:hover .drawer-arrow {
            opacity: 1;
        }

        /* Style for secondary/external links */
        .drawer-secondary-link {
            /* FIX 1: Memaksa teks tidak melipat agar ikon tetap di samping kanan */
            white-space: nowrap; 
            overflow: hidden;
            text-overflow: ellipsis; 
            
            @apply py-3.5 block font-medium text-matte-black text-base transition duration-150 ease-in-out flex justify-between items-center;
            border-bottom: 1px solid rgba(0, 0, 0, 0.08);
        }

        .drawer-secondary-link:hover {
            background-color: rgba(0, 0, 0, 0.03);
        }
        
        /* Style for External Link Icon (â†—) */
        .drawer-external-icon {
            width: 14px;
            height: 14px;
            stroke: var(--color-matte-black); 
            fill: none;
            transition: stroke 160ms ease;
            flex-shrink: 0;
            opacity: 0.6;
            margin-left: 10px;
        }
        
        .drawer-secondary-link:hover .drawer-external-icon {
            opacity: 1;
        }

        /* Style for the Language Selector Icon */
        .drawer-language-icon {
            stroke: var(--color-matte-black) !important;
            opacity: 0.8;
        }
        
        /* ===== DRAWER TEXT ANIMATION (NEW) ===== */
        /* Base state for text items inside drawer: hidden and offset left */
        #mobile-drawer .drawer-anim-text {
            opacity: 0;
            transform: translateX(-20px);
            transition: opacity 280ms ease-out, transform 280ms ease-out;
            will-change: opacity, transform;
        }

        /* Active state when drawer is open: slide in and fade in */
        /* The .active class on the overlay triggers this */
        #mobile-drawer-overlay.active #mobile-drawer .drawer-anim-text {
            opacity: 1;
            transform: translateX(0);
        }

        /* Reduced motion preference override */
        @media (prefers-reduced-motion: reduce) {
            #mobile-drawer .drawer-anim-text {
                opacity: 1 !important;
                transform: none !important;
                transition: none !important;
            }
        }
        /* End UGREEN Mobile Drawer Styles */


        /* DROPDOWN DESKTOP */
        .smart-text-hover {
            transition: color 0.3s ease-in-out;
        }

        /* === SLIDER CONTAINER STYLES === */
        #hero {
            position: relative; /* Container harus relative */
            overflow: hidden;
        }
        .hero-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 0.8s ease-in-out; /* Transisi antar slide */
            background-size: cover;
            background-position: center 30%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .hero-slide.active {
            opacity: 1;
            z-index: 2; /* Di bawah header (z-40) dan arrow (z-40) */
        }
        /* Overlay untuk Hero Slide */
        .hero-slide::before {
            content: "";
            position: absolute;
            inset: 0;
            background: linear-gradient(
              180deg,
              rgba(0,0,0,0.45) 0%,
              rgba(0,0,0,0.65) 100%
            );
            z-index: 1;
        }

        /* ========================================================
           START MODIFICATION: HERO CONTENT POSITION & LAYOUT
           ======================================================== */
        /* Content harus di atas overlay */
        .hero-slide .slide-content {
            position: relative;
            z-index: 3;
            text-align: center;
            
            /* -- NEW LAYOUT LOGIC FOR VERTICAL POSITIONING -- */
            height: 100% !important;
            width: 100% !important;
            display: flex !important;
            flex-direction: column !important;
            align-items: center !important;
            justify-content: flex-start !important; /* Push everything to top initially */
            
            /* Pindahkan Headline ke atas (approx top 1/4 area) */
            padding-top: 180px !important;
        }

        @media (min-width: 1024px) {
            .hero-slide .slide-content {
                /* Sedikit lebih turun di desktop agar proporsional */
                padding-top: 240px !important; 
            }
        }
        
        /* Push CTA to bottom manually */
        .hero-slide .slide-content .btn-hero-cta {
            margin-top: auto !important; /* Push all way down */
            /* Jarak dari bawah agar tepat di atas progress bar */
            margin-bottom: 90px !important; 
        }
        /* ========================================================
           END MODIFICATION
           ======================================================== */

        
        .hero-image-container {
            /* Dihapus karena setiap slide akan memiliki background sendiri */
        }
        
        /* Play Button Simulation Style */
        .play-button-overlay {
            width: 80px;
            height: 80px;
            background-color: rgba(10, 10, 10, 0.1); 
            border: 2px solid rgba(10, 10, 10, 0.2);
            color: var(--color-matte-black);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform 0.2s, background-color 0.2s;
        }

        .play-button-overlay:hover {
            transform: scale(1.05);
            background-color: rgba(10, 10, 10, 0.2);
        }

        .play-button-overlay svg {
            fill: var(--color-matte-black);
        }
        
        /* ... (Footer and Hero styles were untouched but kept here for completeness) ... */
        .four-footer {
          background: linear-gradient(
            180deg,
            #0A0A0A 0%,
            #050505 100%
          );
          color: #FFFFFF;
        }
        .four-footer p,
        .four-footer span,
        .four-footer h1,
        .four-footer h2,
        .four-footer h3,
        .four-footer h5,
        .four-footer h6,
        .four-footer li,
        .four-footer label,
        .four-footer h4 { 
          color: #FFFFFF !important;
        }
        .four-footer a {
          color: #FFFFFF !important;
          text-decoration: none;
          transition: color 0.25s ease;
        }
        .four-footer a:hover {
          color: #FFFFFF !important;
        }
        
        /* --- UGREEN STYLE FOOTER OVERRIDES (NEW) --- */
        
        /* UGREEN Footer Signup Styles (REPLACED WITH NEW SIGNUP-WRAP STYLES BELOW) */
        /* Parent container: one white box */
        .signup-wrap{
          display:flex;
          align-items:center;
          gap: 10px;
          background:#fff;
          border:1px solid rgba(0,0,0,0.18);
          height:46px;
          padding: 6px;                 /* IMPORTANT: creates inner â€œairâ€ like UGREEN */
          transition: border-color 220ms ease, box-shadow 220ms ease, background 220ms ease;
          width: 100%; /* Ensure it fills container */
          margin-top: 18px; /* Restore spacing */
        }

        /* Hover effect like UGREEN (subtle but visible) */
        .signup-wrap:hover{
          border-color: rgba(0,0,0,0.30);
          box-shadow: 0 0 0 2px rgba(255,255,255,0.10); /* subtle highlight on dark footer */
          background:#fff; /* stays white, just feels â€œactiveâ€ */
        }

        /* Input fills remaining space, no border */
        .signup-input{
          flex:1;
          height:100%;
          border:none;
          outline:none;
          background:transparent;
          padding: 0 10px;
          font-size:14px;
          color:#111;
          min-width: 0; /* Prevent overflow */
        }

        .signup-input::placeholder{
          color: rgba(0,0,0,0.45);
        }

        /* Button is smaller than container and sits inside */
        .signup-btn{
          height:34px;
          padding: 0 18px;
          border: 1px solid #000;     /* keep border so white state still looks crisp */
          background:#000;
          color:#fff;
          font-weight:600;
          font-size: 13px;
          cursor:pointer;
          white-space: nowrap;

          /* smooth transition */
          transition:
            background-color 240ms cubic-bezier(0.4, 0, 0.2, 1),
            color 240ms cubic-bezier(0.4, 0, 0.2, 1),
            border-color 240ms cubic-bezier(0.4, 0, 0.2, 1),
            box-shadow 240ms cubic-bezier(0.4, 0, 0.2, 1),
            transform 120ms ease;
        }

        /* hover = turn to white */
        .signup-btn:hover{
          background:#fff;
          color:#000;
          border-color:#000;
          box-shadow: 0 6px 16px rgba(0,0,0,0.14); /* subtle depth like premium ecom */
        }

        /* when hover the whole signup box, also affect button */
        .signup-wrap:hover .signup-btn{
          background:#fff;
          color:#000;
          border-color:#000;
        }

        /* Active click feedback */
        .signup-btn:active{
          transform: scale(0.98);
        }

        /* Consent row stays same */
        .consent-row{
          display:flex;
          align-items:center;
          gap:10px;
          margin-top:12px;
          font-size:12px;
          color: rgba(255,255,255,0.85);
          cursor: pointer;
        }

        /* UGREEN Social Icons Styles - REPLACED WITH NEW STRIP CSS */
        /* --- SOCIAL STRIP STYLES (NEW - JOINED OUTLINE) --- */
        .social-strip {
          display: inline-flex;
          border: 1px solid rgba(255,255,255,0.28);
          height: 46px;
          overflow: hidden;
          margin-top: 24px; /* Maintain spacing */
        }
        .social-cell {
          width: 46px;
          height: 46px;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: background-color 0.2s ease;
        }
        .social-cell:hover {
          background-color: rgba(255,255,255,0.1);
        }
        .social-cell + .social-cell {
          border-left: 1px solid rgba(255,255,255,0.28);
        }
        .social-img {
          width: 18px;
          height: 18px;
          object-fit: contain;
          display: block;
          filter: brightness(0) invert(1);
          opacity: 0.95;
          transition: opacity 0.2s ease;
        }
        .social-cell:hover .social-img {
            opacity: 1;
        }
        /* --- END SOCIAL STRIP STYLES --- */
        
        /* Mobile adjustment for footer */
        @media (max-width: 480px){
          .ugreen-signup-row{
            flex-direction: column;
            gap: 10px;
          }
          .ugreen-signup-btn{
            width: 100%;
          }
        }
        
        .four-footer .border-b {
          border-color: rgba(255,255,255,0.08) !important;
        }
        .four-footer svg {
            stroke: #FFFFFF !important;
            fill: #FFFFFF !important;
        }
        .four-footer a:hover svg {
            stroke: #FFFFFF !important;
            fill: #FFFFFF !important;
            opacity: 0.8;
        }
        .four-hero {
            position: relative;
            z-index: 0;
            color: #FFFFFF;
        }
        /* NOTE: .four-hero::before dihapus karena overlay dipindah ke .hero-slide::before */
        
        .four-hero > #hero-content {
          position: relative;
          z-index: 2;
        }
        .four-hero h1,
        .four-hero h2,
        .four-hero h3,
        .four-hero p,
        .four-hero span,
        .four-hero a {
          color: #FFFFFF !important;
        }
        .four-hero p {
          color: rgba(255, 255, 255, 0.85) !important;
        }
        /* NOTE: Tombol utama hero dihapus di sini karena diganti CTA baru */
        .four-ugreen-menu{
          position:absolute;
          top:calc(100% + 10px);
          right:0;
          width: 320px;
          background:#FFFFFF;
          border:1px solid rgba(0,0,0,0.10); 
          border-radius: 0;
          box-shadow: 0 18px 45px rgba(0,0,0,0.12);
          padding: 10px;
          z-index:9999;
        }
        .four-ugreen-item{
          display: flex;
          justify-content: space-between;
          align-items: center;
          width:100%;
          padding: 14px 14px;
          border-radius: 0; 
          text-decoration:none;
          color:#111111; 
          font-size:16px;
          font-weight:600;
          transition: background 160ms ease;
          border-bottom: 1px solid rgba(0,0,0,0.08); 
        }
        .four-ugreen-item:last-child {
          border-bottom: none;
        }
        .four-ugreen-item:hover{
          background: rgba(0,0,0,0.04); 
        }
        .four-ugreen-icon {
          width: 14px;
          height: 14px;
          stroke: rgba(0,0,0,0.4); 
          fill: none;
          transition: stroke 160ms ease;
          flex-shrink: 0;
          margin-left: 10px;
        }
        .four-ugreen-item:hover .four-ugreen-icon {
          stroke: #111111; 
        }

        /* --- START FIX MUTLAK: ICON DAN TOMBOL --- */
        /* FIX MUTLAK icon kanan (1) */
        .drawer-nav-item,
        .drawer-secondary-link{
          display:flex !important;
          align-items:center !important;
          justify-content:space-between !important;
          gap:16px !important;
          width:100% !important;
        }

        .drawer-label{
          flex:1 1 auto !important;
          min-width:0 !important;       /* penting untuk flex text */
          white-space:nowrap !important;    /* jangan turun baris */
          overflow:hidden !important;
          text-overflow:ellipsis !important; /* sempit, jadi ... */
        }

        /* Nav link inside drawer with smoother animation */
        .drawer-nav-item {
              transition: background-color 0.15s ease-in-out;
        }
        .drawer-nav-item:hover {
              background-color: rgba(0, 0, 0, 0.04) !important;
        }


        .drawer-chevron,
        .drawer-external{
          flex:0 0 auto !important;
          margin-left:auto !important;
          line-height:1 !important;
          display:inline-flex !important;
          align-items:center !important;
          justify-content:center !important;
        }

        /* FIX MUTLAK: Tombol Silang (2) */
        #mobile-drawer-close-btn{
          position:relative !important;
          z-index:100000 !important;       /* paling atas */
          pointer-events:auto !important; /* pastikan bisa diklik */
          cursor:pointer !important;
        }

        #mobile-drawer,
        #mobile-drawer *{
          pointer-events:auto;           /* hindari parent matiin click */
        }
        /* --- END FIX MUTLAK: ICON DAN TOMBOL --- */

        /* ===== UGREEN-LIKE DRAWER SPACING (MUTLAK) ===== */

        /* 1) Container drawer */
        #mobile-drawer,
        .drawer-panel,
        .drawer-content {
          padding-top: 12px !important;
        }

        /* 2) Menu item utama: jadi bar tinggi & lapang */
        .drawer-nav-item {
          display: flex !important;
          align-items: center !important;
          justify-content: space-between !important;

          /* ini yang bikin "lapang" */
          padding: 22px 20px !important;        /* UGREEN-like */
          min-height: 68px !important;         /* bar tinggi */
          line-height: 1.2 !important;

          font-size: 22px !important;          /* lebih besar */
          font-weight: 600 !important;          /* semibold */
          color: #111 !important;

          border-bottom: 1px solid rgba(0,0,0,0.10) !important;
        }

        /* 3) Icon panah kanan */
        .drawer-chevron {
          font-size: 22px !important;
          opacity: 0.65 !important;
        }

        /* 4) Spacing antar section (menu utama -> store links) */
        .drawer-section-title,
        .drawer-subtitle,
        .store-links-title {
          margin-top: 26px !important;
          margin-bottom: 12px !important;
          padding: 0 20px !important;
          letter-spacing: 0.08em !important;
          font-size: 13px !important;
          font-weight: 700 !important;
          color: #111 !important;
          text-transform: uppercase !important;
        }

        /* 5) Secondary links (Store Links) tetap rapi tapi sedikit lebih kecil */
        .drawer-secondary-link {
          display: flex !important;
          align-items: center !important;
          justify-content: space-between !important;

          padding: 18px 20px !important;
          min-height: 56px !important;
          font-size: 18px !important;
          font-weight: 500 !important;
          color: #111 !important;

          border-bottom: 1px solid rgba(0,0,0,0.08) !important;
        }

        /* 6) Icon external/â†— di kanan */
        .drawer-external {
          font-size: 18px !important;
          opacity: 0.55 !important;
        }

        /* 7) Language row (globe + text) */
        .drawer-language-row {
          display: flex !important;
          align-items: center !important;
          gap: 12px !important;
          padding: 18px 20px !important;
          margin-top: 8px !important;

          font-size: 18px !important;
          font-weight: 500 !important;
          color: #111 !important;
        }

        /* 8) Hover/tap feedback subtle (premium) */
        .drawer-nav-item:hover,
        .drawer-secondary-link:hover {
          background: rgba(0,0,0,0.03) !important;
        }
        /* ===== END UGREEN-LIKE DRAWER SPACING (MUTLAK) ===== */


        /* ===== HERO TYPOGRAPHY & CTA STYLING (FINAL FIX) ===== */
        .hero-slide h1 {
            /* 2. TYPOGRAPHY: Headline */
            font-weight: 800 !important;
            letter-spacing: -0.02em !important;
            line-height: 1.1 !important;
            color: #FFFFFF !important;
            
            /* Sizing */
            font-size: 32px !important; /* Mobile */
        }
        @media (min-width: 640px) { /* sm breakpoint */
            .hero-slide h1 {
                font-size: 44px !important; /* Tablet */
            }
        }
        @media (min-width: 1024px) { /* lg breakpoint */
            .hero-slide h1 {
                font-size: 60px !important; /* Desktop */
            }
        }

        /* Sub-Headline styling removed/irrelevant since element is deleted */
        
        /* 4. CTA Button (Pill, Transparent Outline White) - UPDATED ANIMATION */
        .btn-hero-cta {
            /* Replaces .btn-primary */
            display: inline-flex !important;
            align-items: center;
            justify-content: center;
            padding: 12px 28px !important;
            border-radius: 9999px !important; /* Pill shape */
            
            /* Initial: Transparent, White Border, White Text */
            border: 1px solid rgba(255, 255, 255, 0.8) !important;
            background: transparent !important;
            color: #FFFFFF !important;
            
            font-size: 15px !important;
            font-weight: 500 !important;
            
            /* Animation: Smooth transition matching Preorder button feel */
            transition: all 230ms ease-in-out !important;
            
            /* Override shadow bawaan */
            box-shadow: none !important;
            text-decoration: none; /* Safety */
        }

        /* Hover State (Desktop): White Background, Dark Text */
        .btn-hero-cta:hover {
            background: #FFFFFF !important;
            color: var(--color-matte-black) !important; /* Dark contrast */
            border-color: #FFFFFF !important; /* Solid white look */
            transform: translateY(0) scale(1) !important; /* Ensure stability */
        }

        /* Active State (Click/Tap): Subtle Scale Down */
        .btn-hero-cta:active {
            transform: scale(0.98) !important;
            opacity: 0.95;
        }

        /* Focus State (Accessibility) */
        .btn-hero-cta:focus-visible {
            outline: 2px solid #FFFFFF;
            outline-offset: 4px;
        }
        /* ===== END HERO TYPOGRAPHY & CTA STYLING (FINAL FIX) */


        /* ===== HERO ARROW FINAL POLISH (3) ===== */
        .hero-arrow{
          position: absolute;
          top: 50%;
          /* FIX 5: Ukuran dan style UGREEN mutlak */
          width: 52px !important;
          height: 52px !important;
          border-radius: 50% !important;
          background: rgba(255,255,255,0.22) !important;
          backdrop-filter: blur(10px) !important;
          border: 1px solid rgba(255,255,255,0.35) !important;
          color: #fff !important; /* Warna SVG akan mengambil dari sini */
          /* Font size dihapus karena menggunakan SVG */
          line-height: 1;
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 40;
          transition: all .2s ease;
          cursor: pointer;
          transform: translateY(-50%); 
        }
        .hero-arrow:hover{
          background: rgba(255,255,255,0.32) !important;
          border-color: rgba(255,255,255,0.55) !important;
          transform: translateY(-50%) scale(1.04) !important;
        }
        /* FIX 5: Padding arrow lebih besar */
        .hero-prev{ left: 24px !important; }
        .hero-next{ right: 24px !important; }

        /* SVG Sizing */
        .hero-arrow svg{
          width: 22px !important;
          height: 22px !important;
          display: block;
        }

        /* START REVISI: DESKTOP ONLY HERO ARROW FADE (AUTO-HIDE) */
        @media (min-width: 1024px) {
            .hero-arrow {
                opacity: 0 !important; /* Sembunyi default */
                transition: opacity 0.4s ease, transform 0.2s ease, background-color 0.2s ease, border-color 0.2s ease !important;
            }
            
            /* Muncul saat cursor masuk area Hero */
            #hero:hover .hero-arrow {
                opacity: 1 !important;
            }
        }
        /* END REVISI */

        /* ===== HERO PROGRESS BAR SEGMENTS (1, 3) ===== */
        
        /* START MODIFICATION: Update Hero Slider UI Structure for Mobile/Desktop Split */
        
        /* Square corners for progress bar everywhere */
        .hero-progress-segment {
            border-radius: 0 !important;
            /* Ensure other properties are correct */
            flex: 1;
            height: 3px;
            background: rgba(255,255,255,0.25);
            overflow: hidden;
            position: relative;
        }

        .hero-progress-segment::after{
          content: '';
          position: absolute;
          left: 0;
          top: 0;
          height: 100%;
          /* Initial width 0, atau 100% jika sudah dilewati */
          width: 0%; 
          background: rgba(255,255,255,0.95);
        }

        /* Active segment animation */
        .hero-progress-segment.active::after{
          animation: segmentFill 5s linear forwards;
        }

        /* Segment yang sudah dilewati (di-update oleh JS) */
        .hero-progress-segment.passed::after {
            width: 100%;
        }

        @keyframes segmentFill{
          from { width: 0%; }
          to  { width: 100%; }
        }

        /* Wrapper for controls to handle layout shift */
        .hero-ui-container {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; /* Let clicks pass through to slides */
            z-index: 35;
        }

        /* Enable clicks on children */
        .hero-ui-container > * {
            pointer-events: auto;
        }

        /* DESKTOP STYLES (Default) */
        /* .hero-arrow classes keep their absolute positioning from above blocks */
        .hero-progress-wrap {
          position: absolute;
          left: 50%;
          bottom: 18px;
          transform: translateX(-50%);
          display: flex;
          gap: 10px;
          width: min(420px, calc(100% - 80px)); 
          z-index: 35;
        }

        /* MOBILE OVERRIDES (max-width: 767px) */
        @media (max-width: 767px) {
            /* 1. Container becomes the bottom row flexbox */
            .hero-ui-container {
                top: auto !important;
                bottom: 20px !important;
                height: auto !important;
                display: flex !important;
                align-items: center !important;
                justify-content: space-between !important;
                padding: 0 16px !important;
                gap: 12px !important;
            }

            /* 2. Arrows move into flow and become simple */
            .hero-arrow {
                position: static !important; /* Remove absolute positioning */
                transform: none !important;
                width: auto !important;
                height: auto !important;
                background: transparent !important;
                border: none !important;
                backdrop-filter: none !important;
                padding: 8px !important; /* Touch target */
                margin: 0 !important;
            }
            
            /* Override specific left/right positioning from desktop */
            .hero-prev, .hero-next {
                left: auto !important;
                right: auto !important;
            }

            /* Make the icon simple/small */
            .hero-arrow svg {
                width: 16px !important;
                height: 16px !important;
                stroke-width: 2.5 !important; /* Slightly bolder for small size */
            }

            /* 3. Progress bar becomes flexible in the middle */
            .hero-progress-wrap {
                position: static !important; /* Remove absolute */
                transform: none !important;
                width: auto !important;
                flex: 1 !important; /* Grow to fill space */
                bottom: auto !important;
                left: auto !important;
                /* Ensure gap is maintained */
                gap: 8px !important;
            }
        }
        /* END MODIFICATION: Hero Slider UI */


        /* ===== UGREEN CATEGORY LINEUP STYLE (SECTION A) - FIX MUTLAK: 4:5 Aspect Ratio ===== */
        .category-box{
          display:flex !important;
          flex-direction:column !important;
          justify-content:flex-end !important;  /* judul nempel bawah */
          align-items:center !important;
          text-align:center !important;

          background:#F3F3F3 !important;
          border-radius:0 !important;

          /* ðŸ”’ FIX MUTLAK: 4:5 */
          aspect-ratio: 4 / 5 !important;
          width:100% !important;
          height:auto !important;

          padding:24px !important; /* sedikit lebih pas untuk 4:5 */
          box-shadow:none !important;
          transition:all .2s ease;
          cursor:pointer !important;
          overflow:hidden !important; /* jaga konten gak bocor */
        }
        .category-box:hover{ background:#EBECEE !important; }

        /* PATCH B: Media area (for image) and label refinement */
        .category-media{
          width:100%;
          flex:1 1 auto;              /* area atas untuk foto */
          display:flex;
          align-items:center;
          justify-content:center;
          padding:18px 18px 10px;
        }

        .category-media img{
          width:100%;
          height:100%;
          object-fit:contain;             /* aman untuk foto produk */
          max-height:100%;
        }

        /* Menggunakan kelas drawer-anim di sini (sudah dihapus di HTML) */
        /* .drawer-anim { opacity: 1; } */

        .category-label{
          width:100% !important;
          font-size:16px !important;
          font-weight:600 !important;
          color: var(--color-matte-black) !important; /* Ensure color is set */
          line-height:1.2 !important;
          margin-top:12px !important;
          margin-bottom:0 !important; /* Ensure tight fit at bottom */

          white-space:nowrap !important;
          overflow:hidden !important;
          text-overflow:ellipsis !important;
          text-align:center !important;
          display: block !important; /* Ensure block display for width */
        }
        
        /* Ensure the CTA buttons inside the categories are hidden if they exist */
        .category-box .btn-primary {
            display: none !important;
        }
        
        /* PATCH C: Responsive Grid Fixes for .lineup-container */
        /* Desktop & tablet: grid normal, ensures all cards are same height */
        .lineup-container{
          align-items:stretch !important; /* semua kartu sama tinggi */
        }
        @media (min-width: 768px){
          /* Explicitly enforce the grid for tablet/desktop to avoid layout collapse */
          .lineup-container{
            display:grid !important;
            grid-template-columns: repeat(4, minmax(0, 1fr)) !important;
            /* Remove flex properties potentially set globally on .lineup-container */
            flex-wrap: wrap !important; 
            overflow-x: visible !important;
          }
        }
        /* Mobile: horizontal swipe + snap (reconfirming previous mobile styles) */
        @media (max-width: 767px) {
          /* Reconfirming mobile horizontal scroll logic which was already robust, but adding overrides to ensure new desktop grid doesn't interfere */
          .lineup-container {
            display: flex !important;
            flex-wrap: nowrap !important;
            overflow-x: auto !important; /* REVISI: auto lebih clean dibanding scroll */
            overflow-y: visible !important; /* Pastikan shadow/peek gak kepotong vertikal */
            
            margin: 0 -1rem !important; 
            padding: 0 1rem 20px 1rem !important;
            
            gap: 16px !important; 
            
            scroll-snap-type: x mandatory !important;
            scroll-padding-left: 1rem !important; 
            scroll-behavior: smooth !important;
            -webkit-overflow-scrolling: touch !important;

            /* Hide scrollbar */
            -ms-overflow-style: none;
            scrollbar-width: none; 
          }
          
          .lineup-container::-webkit-scrollbar {
            display: none;
          }

          /* Card specific width for horizontal scroll - FIX MOBILE PEEK 1.5 Cards */
          /* REVISI FINAL: Menggunakan WIDTH (bukan min-width) dan angka 72vw agar peek kartu sebelah JELAS terlihat */
          .category-box {
            width: 72vw !important; /* FORCE width, override 100% global */
            max-width: 72vw !important;
            min-width: 0 !important; /* Reset min-width lama */
            
            flex-shrink: 0 !important;
            scroll-snap-align: start !important;
            text-align: center !important;
          }
        }

        /* ===== PATCH 1: DESKTOP CARD REVEAL (STAGGER + FADE UP) ===== */
        @media (min-width: 768px){
          .card-reveal{
            opacity: 0;
            /* FIXED ANIMATION: Slide UP from bottom */
            transform: translateY(40px); 
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
            will-change: opacity, transform;
          }
          .card-reveal.is-visible{
            opacity: 1;
            transform: translateY(0);
          }
        }

        /* ===== MOBILE: jangan pakai stagger per-card (biar simpel) ===== */
        @media (max-width: 767px){
          .card-reveal{
            opacity: 1;
            transform: none;
            transition: none;
          }
        }

        /* ===== Reduced motion ===== */
        @media (prefers-reduced-motion: reduce){
          .card-reveal{
            opacity: 1 !important;
            transform: none !important;
            transition: none !important;
          }
        }
        
        /* ===== SECTION D: BUILT ON FOUR PRINCIPLES (MOBILE SNAP FIX & VISUAL MATCH) ===== */
        
        /* New Section Background Styling (Inverted) */
        #four-principles {
            background-color: #F2F2F2 !important; /* Soft neutral gray */
        }

        /* UPDATED: Symbol (Watermark) Style for PNG */
        /* Removed span specific large font styling */
        #four-principles .principle-symbol {
            margin-bottom: auto !important; /* Push the container to the top */
        }
        
        /* CSS for the new PNG letters */
        .principle-png {
            height: 120px; /* Increased from 72px for boldness */
            width: auto;
            display: block;
            margin: 0 auto;
            opacity: 1 !important; /* Force true visibility/black */
            pointer-events: none;
            object-fit: contain;
        }
        @media (min-width: 1024px) {
            .principle-png {
                height: 140px; /* Increased from 84px */
            }
        }

        /* The main card element style (Overriding parent black background style) */
        #four-principles .principle-card {
            /* VISUAL MATCH: Explore Lineup - Using old height for a different visual effect */
            display: flex !important;
            flex-direction: column !important;
            justify-content: space-between !important; /* Push label to bottom */
            align-items: center !important;
            text-align: center !important;

            background-color: #FFFFFF !important; /* Pure White */
            border-radius: 0px !important; /* Sharp corners */
            height: 280px !important; /* Uniform height match Explore Lineup */
            padding: 32px !important;
            
            color: var(--color-matte-black) !important; /* Text color for content inside card */
            
            /* FIX #2: Add subtle border but NO SHADOW (CLEAN FLAT LOOK) */
            border: 1px solid rgba(0,0,0,0.06) !important; 
            box-shadow: none !important; /* REMOVED SHADOW */
            filter: none !important;     /* Ensure no drop-shadow filter */
            
            transition: all 0.25s ease-out; /* Smooth transition */
            cursor: pointer;
        }

        #four-principles .principle-card:hover {
              /* Lift effect on hover (Animation kept, Shadow removed) */
              transform: translateY(-6px);
              box-shadow: none !important; /* REMOVED HOVER SHADOW */
              filter: none !important;
              background-color: #FFFFFF !important;
        }
        
        /* Styling for the label at the bottom */
        #four-principles .principle-card h3 {
            font-size: 18px !important; 
            font-weight: 600 !important;
            color: var(--color-matte-black) !important;
            margin-top: 20px !important; 
            margin-bottom: 0 !important;
            line-height: 1.2;
        }
        
        /* Hide the long description which is the direct <p> child */
        #four-principles .principle-card > p {
            display: none !important;
        }
        
        /* Desktop Layout Fix: Force 4 columns in one row (REVISION #1) */
        @media (min-width: 1024px) {
            #four-principles .principles-container {
                /* Override grid to be flex on large screens for consistent 1-row layout */
                display: flex !important;
                flex-wrap: nowrap !important; /* CRITICAL: NO WRAP */
                
                /* Using 32px gap, matching gap-8 class */
                gap: 32px !important; 
                
                grid-template-columns: none !important;
                overflow-x: hidden !important; 
            }
            
            #four-principles .principle-card {
                /* Calculated width for 4 cards with 3*32px gaps: (100% - 96px) / 4 */
                flex: 0 0 calc((100% - 96px) / 4) !important; 
                min-width: calc((100% - 96px) / 4) !important; 
                flex-shrink: 0 !important;
            }
        }

        @media (max-width: 767px) {
          /* Apply Horizontal Snap Scroll container for mobile */
          #four-principles .principles-container {
            display: flex !important;
            flex-wrap: nowrap !important;
            overflow-x: scroll !important;
            
            /* Overriding parent margin/padding to include swipe area */
            margin: 0 -1rem !important; 
            padding: 0 1rem 20px 1rem !important;
            
            gap: 16px !important;
            
            scroll-snap-type: x mandatory !important;
            scroll-padding-left: 1rem !important;
            scroll-behavior: smooth !important;
            -webkit-overflow-scrolling: touch !important;

            /* Hide scrollbar */
            -ms-overflow-style: none;
            scrollbar-width: none; 
          }
          
          #four-principles .principles-container::-webkit-scrollbar {
            display: none;
          }

          /* Card width and alignment */
          #four-principles .principle-card {
            min-width: 70vw !important;
            flex-shrink: 0 !important;
            
            scroll-snap-align: start !important;
            text-align: center !important;
          }
        }
        
        /* ===== FINAL FIX: HEADER TOP MODE THEME SWAP ===== */

        /* 2. Generic Color Swap: Change all dark elements (Logo, Nav, Mobile Icons) to White */
        #main-header.is-top a,
        #main-header.is-top button,
        /* REVISI: Hapus selector 'svg' dari sini agar fill/stroke tidak dipaksa */
        #main-header.is-top .header-nav-link,
        /* Specific overrides for logo/icons that might use hard black classes */
        #main-header.is-top .text-matte-black,
        #main-header.is-top .text-black,
        #main-header.is-top .text-gray-800,
        #main-header.is-top .text-gray-700 {
            color: #FFFFFF !important;
            /* REVISI: HAPUS fill & stroke paksa ini. 
               Biarkan SVG ikut 'currentColor' dari properti color di atas. */
            /* fill: #FFFFFF !important;  <-- PENYEBAB MASALAH */
            /* stroke: #FFFFFF !important; <-- PENYEBAB MASALAH */
        }

        /* REVISI TAMBAHAN: Pastikan SVG di header saat is-top mereset fill/stroke ke defaultnya (currentColor) */
        #main-header.is-top svg {
            color: #FFFFFF !important; /* Pastikan induknya putih */
            /* Jangan set fill/stroke global di sini, biarkan atribut HTML SVG (fill="none") yang bekerja */
        }

        /* 3. Specific Store Button Fix: Override the solid black style when is-top is active */
        #main-header.is-top .force-solid-black {
            /* Override background and text color when at top to become outlined pill */
            background: rgba(255, 255, 255, 0.1) !important; /* Transparent white */
            border: 1px solid rgba(255, 255, 255, 0.85) !important;
            color: #FFFFFF !important;
            border-radius: 9999px !important;
        }

        /* Ensure chevron inside the store button remains white */
        #main-header.is-top .force-solid-black svg {
            stroke: #FFFFFF !important;
        }

        /* Ensure hover state remains subtle and white on top */
        #main-header.is-top .force-solid-black:hover {
            background: rgba(255, 255, 255, 0.2) !important;
            transform: scale(1) !important; /* Mencegah scale-98 bawaan */
        }
        
        /* FIX #1: NORMAL state (header kembali): Store pill harus balik hitam seperti semula */
        #main-header:not(.is-top) .force-solid-black{
          background: var(--color-matte-black) !important;
          border: 1px solid transparent !important;
          color: var(--color-warm-white) !important;
          border-radius: 9999px !important;
        }
        #main-header:not(.is-top) .force-solid-black svg{
          stroke: var(--color-warm-white) !important;
        }

        /* ===== NEW FEATURE: INTERACTION ACTIVE STATE (Overrides is-top transparency) ===== */
        /* Ketika tombol diklik (Search/Store/Menu), paksa header jadi solid putih walau di posisi top */
        
        #main-header.interaction-active::before {
            opacity: 1 !important; /* Background putih muncul (fade in) */
            backdrop-filter: blur(8px) !important;
        }

        /* Revert Text Colors to Black (Override is-top white text) */
        #main-header.interaction-active .header-nav-link,
        #main-header.interaction-active button:not(.force-solid-black), 
        #main-header.interaction-active a:not(.force-solid-black) {
            color: var(--color-matte-black) !important;
        }

        /* Revert Icons to Black */
        #main-header.interaction-active svg {
            color: var(--color-matte-black) !important;
            stroke: currentColor !important;
        }

        /* Logo Swap (Show Black, Hide White) */
        #main-header.interaction-active .logo-white { display: none !important; }
        #main-header.interaction-active .logo-black { display: block !important; }

        /* Store Button: Revert to Solid Black Pill (FIXED VISIBILITY ISSUE) */
        /* Kita chain .is-top.interaction-active dan tambahkan :hover state untuk memastikan 
           ia mengalahkan style transparansi .is-top saat mouse masih di atas tombol (klik) */
        #main-header.interaction-active .force-solid-black,
        #main-header.is-top.interaction-active .force-solid-black,
        #main-header.is-top.interaction-active .force-solid-black:hover {
            background: var(--color-matte-black) !important;
            border: 1px solid transparent !important;
            color: var(--color-warm-white) !important;
            transform: scale(1) !important; /* Reset scale effect */
        }
        
        #main-header.interaction-active .force-solid-black svg,
        #main-header.is-top.interaction-active .force-solid-black svg,
        #main-header.is-top.interaction-active .force-solid-black:hover svg {
            stroke: var(--color-warm-white) !important;
            color: var(--color-warm-white) !important;
        }

        /* Hamburger Menu Lines */
        #main-header.interaction-active .hamburger-line {
            background-color: var(--color-matte-black) !important;
        }
        /* ===== END INTERACTION ACTIVE STATE ===== */

        /* FIX #2: Drawer/Dropdown Store (four-ugreen-menu) WAJIB tetap hitam/putih */
        /* Karena drawer/dropdown tidak boleh ikut mode putih header */
        .four-ugreen-menu {
          background: #FFFFFF !important; /* Background Putih Solid */
          
          /* REVISI LAYERING & ANIMASI: Agar menyatu & smooth drop down */
          position: absolute;
          
          /* REVISI POSISI MUTLAK: Align to Header Bottom (64px) */
          top: calc(100% + 12px) !important; 
          right: 0;
          width: 320px;
          
          z-index: 900 !important; /* Di atas konten page */
          
          margin-top: 0 !important; 
          border: 1px solid rgba(0,0,0,0.10);
          
          /* REVISI VISUAL: SEAMLESS CONNECTION */
          border-top: 0 !important; /* Hapus border atas agar menyatu dengan header */
          border-radius: 0 !important; /* KOTAK TAJAM (Square) */
          overflow: hidden !important; /* Clean edges */
          
          box-shadow: 0 18px 45px rgba(0,0,0,0.10) !important; /* Shadow halus unified */
          
          /* REVISI PADDING: Hapus padding container agar item grid presisi */
          padding: 0 !important;
          
          /* ANIMASI STATE AWAL (Hidden) */
          opacity: 0;
          visibility: hidden;
          transform: translateY(-10px); /* Geser dikit biar animasi turunnya enak */
          transform-origin: top right;
          transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* ANIMASI STATE AKTIF (Visible) */
        .four-ugreen-menu.is-open {
            opacity: 1 !important;
            visibility: visible !important;
            transform: translateY(0) !important; /* Turun ke posisi normal */
        }

        /* Item Menu Styling Refined (GRID LAYOUT) */
        .four-ugreen-item {
          display: grid !important;
          grid-template-columns: 1fr 16px !important; /* Kiri: Teks (auto fill), Kanan: Slot Icon 16px */
          align-items: center !important; /* Vertical center mutlak */
          
          width: 100%;
          min-height: 56px !important; /* Tinggi konsisten */
          padding: 0 20px !important; /* Padding horizontal saja */
          
          line-height: 1 !important;
          text-decoration: none;
          color: #111111; 
          font-size: 15px !important;
          font-weight: 600;
          
          transition: background 160ms ease;
          border-radius: 0; 
          
          /* Divider Logic: Garis halus di bawah, kecuali item terakhir */
          border-bottom: 1px solid rgba(0,0,0,0.08) !important; 
        }

        /* Hapus border pada item terakhir */
        .four-ugreen-item:last-child {
          border-bottom: 0 !important;
        }

        .four-ugreen-item:hover {
          background: rgba(0,0,0,0.04); 
        }

        /* Icon Centering & Visibility Restoration */
        .four-ugreen-icon {
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          width: 16px !important;
          height: 16px !important;
          margin-left: 0 !important; /* Reset margin, Grid yang atur posisi */
          
          opacity: 0.6 !important; /* Subtle default state */
          transition: opacity 160ms ease, stroke 160ms ease;
          
          /* Hapus properti stroke/fill level container, biarkan SVG handle atau inherit */
        }
        
        /* State Hover: Icon jadi full black */
        .four-ugreen-item:hover .four-ugreen-icon {
          opacity: 1 !important;
          stroke: #111111; 
        }

        /* Force SVG Rendering inside the icon container */
        .four-ugreen-icon svg {
            display: block !important;
            width: 14px !important;
            height: 14px !important;
            stroke: currentColor !important;
            fill: none !important;
        }

        /* --- START FIX MUTLAK: ICON DAN TOMBOL --- */
        /* FIX MUTLAK icon kanan (1) */

        /* ===== SECTION C - LIFESTYLE SLIDER CUSTOM STYLES (NEW) ===== */
        
        /* REVISI: MW (Match World) UGREEN STYLES */
        .matchworld-wrap {
            max-width: 860px;
            margin: 0 auto;
            position: relative;
        }

        .matchworld-tabs {
            position: relative;
            display: inline-flex; /* Center naturally */
            justify-content: center;
            gap: 28px;
            margin-bottom: 24px;
            user-select: none;
            border-bottom: 1px solid rgba(0,0,0,0.08); /* Garis tipis full width container */
            padding-bottom: 0px;
        }

        .mw-tab {
            background: transparent;
            border: 0;
            padding: 10px 4px; /* Sedikit padding horizontal */
            font-size: 14px;
            letter-spacing: 0.08em;
            font-weight: 600;
            text-transform: uppercase;
            color: rgba(0,0,0,0.35);
            cursor: pointer;
            position: relative;
            transition: color 0.3s ease;
        }

        .mw-tab.active {
            color: var(--color-matte-black);
        }

        .mw-indicator {
            position: absolute;
            bottom: -1px; /* Overlap border bottom */
            height: 2px;
            background: var(--color-matte-black);
            left: 0;
            width: 0;
            transform: translateX(0);
            transition: transform 280ms cubic-bezier(.4,0,.2,1), width 280ms cubic-bezier(.4,0,.2,1);
            z-index: 10;
        }

        .mw-desc {
            text-align: center;
            font-size: 18px;
            line-height: 1.6;
            color: rgba(0,0,0,0.75);
            margin-bottom: 32px;
            opacity: 1;
            transition: opacity 220ms ease;
        }

        /* Override/Update CTA for this section specifically */
        .mw-cta {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 12px 28px;
            border: 1px solid rgba(0,0,0,0.18);
            border-radius: 9999px;
            text-decoration: none;
            color: #000;
            font-weight: 500;
            font-size: 14px;
            transition: all 220ms ease;
            background: transparent;
        }

        .mw-cta:hover {
            background: var(--color-matte-black);
            color: #fff;
            border-color: var(--color-matte-black);
        }
        
        .mw-cta .mw-cta-arrow {
            font-size: 18px;
            line-height: 1;
            font-weight: 400;
            margin-top: -2px; /* Visual adj */
        }

        /* START MODIFICATION: LIFESTYLE IMAGE TRANSITION & SCALE */
        #lifestyle-image-wrapper {
            /* Clean look - No Shadow */
            box-shadow: none !important;
            border-radius: 0; 
            overflow: hidden !important; /* Wajib untuk clipping saat scale */
            position: relative;
            background-color: var(--color-muted-navy); /* Fallback color */
            transform: translate3d(0,0,0); /* Force GPU */
            cursor: pointer; /* Indikasi interaktif */
        }

        .lifestyle-layer {
            position: absolute;
            inset: 0;
            background-size: cover;
            background-position: center;
            opacity: 0;
            
            /* Logic Animasi: Opacity (Crossfade) & Transform (Scale) */
            transition: opacity 600ms ease-in-out, transform 600ms ease-in-out;
            will-change: opacity, transform;
            transform: scale(1);
            transform-origin: center;
            z-index: 1;
        }

        .lifestyle-layer.active {
            opacity: 1;
            z-index: 2; /* Layer aktif selalu di atas */
        }

        /* Hover & Touch Scale Effect */
        /* Target layer yang sedang ACTIVE saat wrapper di-hover/active */
        #lifestyle-image-wrapper:hover .lifestyle-layer.active,
        #lifestyle-image-wrapper:active .lifestyle-layer.active {
            transform: scale(1.04);
        }
        /* END MODIFICATION: LIFESTYLE IMAGE TRANSITION & SCALE */

        /* MOBILE OPTIMIZATION FOR MATCH WORLD SECTION */
        @media (max-width: 767px) {
            .mw-desc {
                font-size: 15px !important;
                line-height: 1.5 !important;
                margin-bottom: 20px !important; /* Tighter to CTA */
                color: rgba(0,0,0,0.8) !important;
            }
            .matchworld-tabs {
                margin-bottom: 16px !important; /* Tighter to Text */
                gap: 20px !important;
            }
            .mw-tab {
                font-size: 13px !important;
                padding: 8px 4px !important;
            }
            /* CTA Adjustment for mobile density */
            .mw-cta {
                width: 100%;
                max-width: 280px; /* Optional: make it look like UGREEN pill */
                padding: 10px 20px !important;
                font-size: 13px !important;
            }
        }
        /* ===== END SECTION C STYLES ===== */

        /* ===== FOUR ANCHOR NEW HORIZONTAL CARD SYSTEM STYLES (DELETED) ===== */
        /* The previous CSS blocks for .anchor-track, .anchor-card, and their media queries were removed
            to ensure consistency with .lineup-container and .category-box. */
        /* ================================================================= */

        /* ===== SCROLL REVEAL ANIMATION STYLES (NEW) ===== */
        .reveal-title, .reveal-sub {
            /* Initial state (Hidden and pushed down) */
            opacity: 0;
            transform: translateY(32px);
            
            /* Transition definition (Smooth Premium) */
            transition: opacity 0.85s cubic-bezier(0.25, 0.46, 0.45, 0.94), 
                        transform 0.85s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            will-change: opacity, transform;
        }

        /* Final state (Visible and in place) */
        .reveal-title.is-visible, 
        .reveal-sub.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Delay for sub-elements (120ms) */
        .reveal-sub { 
            transition-delay: 0.12s; 
        }
        /* ===== END SCROLL REVEAL ANIMATION STYLES ===== */

        /* ===== FOUR ANCHOR TAB STYLES (NEW) */
        #anchor-tabs-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 40px; /* Generous spacing */
            border-bottom: 1px solid #E0E0E0; 
            position: relative;
            max-width: 480px; /* Limit width */
            margin: 0 auto;
        }

        .anchor-tab-button {
            /* Base Tab Button Style (Mirrors .tab-button-ugreen) */
            @apply px-0 py-3.5 text-lg font-semibold cursor-pointer z-10 
                   relative transition duration-200 ease-in-out bg-transparent;
            color: var(--color-soft-gray) !important; /* Inactive color */
            letter-spacing: 0.04em; 
            margin-bottom: -1px; /* Pull up to hide default border */
            white-space: nowrap;
            text-transform: uppercase;
        }
        .anchor-tab-button.active {
            /* Active state uses black text */
            color: var(--color-matte-black) !important;
        }

        #anchor-tab-indicator {
            /* Underline indicator (Mirrors #tab-indicator-ugreen) */
            position: absolute;
            bottom: 0px; 
            left: 0;
            height: 2px; /* Thin line */
            background-color: var(--color-matte-black);
            transition: transform 0.3s ease-in-out, width 0.3s ease-in-out;
            z-index: 5;
        }

        /* =======================================================
            LOGO SYSTEM STYLES (NEW - ADDED BY AI)
            ======================================================= */
        .logo-wrapper .logo-white,
        .logo-wrapper .logo-black {
            width: auto;
            object-fit: contain;
            display: none; /* Managed by header state */
            /* Sizing Rules (Desktop: 48px, Tablet: 40px, Mobile: 36px) */
            height: 36px; /* Mobile */
        }

        @media (min-width: 640px) {
            .logo-wrapper .logo-white,
            .logo-wrapper .logo-black { height: 40px; } /* Tablet */
        }

        @media (min-width: 1024px) {
            .logo-wrapper .logo-white,
            .logo-wrapper .logo-black { height: 48px; } /* Desktop */
        }

        /* State Logic */
        /* Default (Scrolled/White Header): Show Black Logo */
        #main-header .logo-black { display: block; }
        #main-header .logo-white { display: none; }

        /* Top State (Transparent Header): Show White Logo */
        #main-header.is-top .logo-black { display: none; }
        #main-header.is-top .logo-white { display: block; }

        /* =======================================================
            ANIMATED HAMBURGER MENU ICON (NEW - ADDED BY AI)
            ======================================================= */
        .hamburger-btn {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 24px; /* Standard icon size */
            height: 24px;
            padding: 0;
            border: none;
            background: transparent;
            cursor: pointer;
            z-index: 50; /* Ensure above drawer content */
            margin-left: 1rem; /* Maintains spacing */
        }

        .hamburger-line {
            position: absolute;
            width: 24px; /* Full width */
            height: 2px; /* Line thickness */
            background-color: var(--color-matte-black);
            border-radius: 9999px;
            transition: transform 0.25s ease-in-out, opacity 0.25s ease-in-out, background-color 0.25s ease;
            left: 0;
            /* Performance optimization */
            will-change: transform, opacity;
        }

        /* Line Positioning */
        .hamburger-line:nth-child(1) { top: 4px; transform-origin: center; } /* Top Line */
        .hamburger-line:nth-child(2) { top: 50%; transform: translateY(-50%); opacity: 1; } /* Middle Line */
        .hamburger-line:nth-child(3) { bottom: 4px; transform-origin: center; } /* Bottom Line */

        /* Active/Open State (Transform to X) */
        .hamburger-btn.active .hamburger-line:nth-child(1) {
            top: 50%;
            transform: translateY(-50%) rotate(45deg);
        }
        .hamburger-btn.active .hamburger-line:nth-child(2) {
            opacity: 0;
            transform: translateY(-50%) scale(0.5); /* Subtle scale down fade */
        }
        .hamburger-btn.active .hamburger-line:nth-child(3) {
            bottom: 50%;
            transform: translateY(50%) rotate(-45deg);
        }

        /* Theme Color Swap for Hamburger Lines */
        /* When header is transparent (at top), make lines white */
        #main-header.is-top .hamburger-line {
            background-color: #FFFFFF !important;
        }

        /* REVISI FIX: Saat Active (X/Close), paksa Hitam walaupun is-top 
           (Agar terlihat kontras dengan background laci/header yang putih saat dibuka) */
        #main-header.is-top .hamburger-btn.active .hamburger-line {
            background-color: var(--color-matte-black) !important;
        }

        /* Reduced Motion */
        @media (prefers-reduced-motion: reduce) {
            .hamburger-line {
                transition: none !important;
            }
        }

        /* =======================================================
            AUTH MODAL STYLES (NEW)
            ======================================================= */
        #auth-modal {
            position: fixed;
            inset: 0;
            z-index: 10000; /* Highest priority */
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }
        #auth-modal.active {
            opacity: 1;
            pointer-events: auto;
        }
        #auth-modal-backdrop {
            position: absolute;
            inset: 0;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(4px);
        }
        #auth-modal-content {
            position: relative;
            background: #FFFFFF;
            width: 90%;
            max-width: 420px;
            padding: 40px;
            text-align: center;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            border-radius: 0; /* Minimal */
            transform: translateY(10px);
            transition: transform 0.3s ease;
        }
        #auth-modal.active #auth-modal-content {
            transform: translateY(0);
        }
        
        /* =======================================================
            PDP SECTION STYLES (NEW)
            ======================================================= */
        /* Hide scrollbar for thumbnail list */
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        /* Active Variant Thumbnail */
        .variant-thumb.active {
            border: 2px solid var(--color-matte-black);
            opacity: 1;
        }
        .variant-thumb {
            opacity: 0.7;
            transition: opacity 0.2s, border-color 0.2s;
            cursor: pointer;
            border: 2px solid transparent;
        }
        .variant-thumb:hover {
            opacity: 1;
        }
        
        /* Wishlist Icon Animation */
        .wishlist-icon path {
            transition: fill 0.3s ease, stroke 0.3s ease;
        }
        .wishlist-btn.active .wishlist-icon path {
            fill: #ef4444; /* Red-500 */
            stroke: #ef4444;
        }
        
        /* Fly-to-Cart Animation Keyframes */
        @keyframes flyToCart {
            0% {
                opacity: 1;
                transform: scale(1);
            }
            100% {
                opacity: 0.5;
                transform: scale(0.1);
            }
        }
        
        .flying-img {
            position: fixed;
            z-index: 9999;
            pointer-events: none;
            transition: all 0.6s cubic-bezier(0.19, 1, 0.22, 1);
        }
        
        /* ACCORDION STYLES */
        .pdp-accordion {
            width: 100%;
        }
        .acc-item {
            border-bottom: 1px solid #F3F4F6; /* border-gray-100 */
        }
        /* Header button */
        .acc-btn {
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px 0;
            border: none;
            background: transparent;
            cursor: pointer;
            text-align: left;
        }
        .acc-title {
            font-weight: 500;
            color: var(--color-matte-black);
            font-size: 1rem;
        }

        /* Panel base: CLOSED */
        .acc-panel {
            max-height: 0px;
            overflow: hidden;
            opacity: 0;
            transform: translateY(-6px);
            transition:
                max-height 300ms cubic-bezier(0.4, 0, 0.2, 1),
                opacity 220ms cubic-bezier(0.4, 0, 0.2, 1),
                transform 220ms cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Panel open state */
        .acc-panel.is-open {
            opacity: 1;
            transform: translateY(0);
        }

        /* Inner spacing */
        .acc-inner {
            padding: 0 0 24px 0; /* slightly more bottom padding */
            font-size: 14px;
            line-height: 1.6;
            color: var(--color-soft-gray);
        }

        /* PLUS/MINUS ICON */
        .pm-icon {
            position: relative;
            width: 14px; /* Matches previous design slightly better */
            height: 14px;
            display: inline-block;
            flex-shrink: 0;
            margin-left: 12px;
        }

        /* horizontal line */
        .pm-h, .pm-v {
            position: absolute;
            left: 50%;
            top: 50%;
            width: 14px;
            height: 1.5px; /* Thinner line for elegance */
            background: var(--color-matte-black);
            transform: translate(-50%, -50%);
            border-radius: 0; /* sharp */
        }

        /* vertical line */
        .pm-v {
            width: 1.5px;
            height: 14px;
            transform-origin: center;
            transition:
                transform 200ms cubic-bezier(0.4, 0, 0.2, 1),
                opacity 200ms cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* When OPEN: hide vertical line smoothly => minus */
        .acc-btn[aria-expanded="true"] .pm-v {
            transform: translate(-50%, -50%) scaleY(0);
            opacity: 0;
        }

        /* =======================================================
            CART DRAWER STYLES (UGREEN-LIKE)
            ======================================================= */
        .cart-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.45);
            opacity: 0;
            pointer-events: none;
            transition: opacity 260ms cubic-bezier(0.4,0,0.2,1);
            z-index: 9998;
        }

        .cart-drawer {
            position: fixed;
            top: 0;
            right: 0;
            height: 100vh;
            width: 420px;
            max-width: 92vw;
            background: #fff;
            transform: translateX(100%);
            transition: transform 320ms cubic-bezier(0.4,0,0.2,1);
            z-index: 9999;
            display: flex;
            flex-direction: column;
            border-left: 1px solid rgba(0,0,0,0.08);
            box-shadow: -4px 0 24px rgba(0,0,0,0.1);
        }

        .cart-drawer.is-open {
            transform: translateX(0);
        }

        .cart-overlay.is-open {
            opacity: 1;
            pointer-events: auto;
        }

        /* Header */
        .cart-drawer__header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 18px 24px;
            border-bottom: 1px solid rgba(0,0,0,0.06);
        }

        .cart-drawer__title {
            font-weight: 400; /* Regular */
            letter-spacing: 0.05em;
            font-size: 20px; /* Match close icon */
            text-transform: uppercase;
        }

        .cart-drawer__close {
            border: none;
            background: transparent;
            font-size: 20px; /* Ensure match */
            cursor: pointer;
            line-height: 1;
            padding: 4px;
            color: #999;
            transition: color 0.2s, transform 220ms cubic-bezier(0.4,0,0.2,1), opacity 220ms ease;
            transform-origin: center;
        }
        .cart-drawer__close:hover {
            color: #000;
            transform: rotate(180deg);
            opacity: 0.9;
        }

        /* Items list */
        .cart-drawer__items {
            padding: 0 24px;
            overflow-y: auto;
            flex: 1;
        }

        .cart-item {
            display: grid;
            grid-template-columns: 80px 1fr;
            gap: 16px;
            padding: 20px 0;
            border-bottom: 1px solid rgba(0,0,0,0.06);
        }

        .cart-item__thumb {
            width: 80px;
            height: 80px;
            background: #F9F9F9;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            border-radius: 4px;
        }

        .cart-item__thumb img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            mix-blend-mode: multiply;
        }

        .cart-item__name {
            font-weight: 600;
            font-size: 14px;
            line-height: 1.4;
            margin-bottom: 4px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .cart-item__meta {
            font-size: 13px;
            color: #777;
            margin-bottom: 12px;
        }

        .cart-item__row {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .cart-item__price {
            font-weight: 600;
            font-size: 14px;
        }

        /* Stepper like UGREEN (outline box) */
        .stepper {
            display: flex;
            align-items: center;
            border: 1px solid #E5E5E5;
            height: 32px;
            border-radius: 4px;
        }

        .stepper button {
            width: 32px;
            height: 100%;
            border: none;
            background: transparent;
            cursor: pointer;
            font-size: 16px;
            line-height: 1;
            color: #555;
            transition: background 0.2s;
        }
        .stepper button:hover { background: #f5f5f5; }

        .stepper span {
            width: 36px;
            text-align: center;
            font-weight: 600;
            font-size: 13px;
            color: #111;
        }

        .remove-btn {
            border: none;
            background: transparent;
            cursor: pointer;
            color: #999;
            padding: 4px;
            transition: color 0.2s;
        }
        .remove-btn:hover { color: #d32f2f; }
        
        /* Apply click animation to all clickable buttons in cart drawer */
        .cart-drawer button {
            transition: transform 120ms ease;
        }
        .cart-drawer button:active {
            transform: scale(1.06);
        }

        /* Footer */
        .cart-drawer__footer {
            border-top: 1px solid rgba(0,0,0,0.06);
            padding: 24px;
            background: #fff;
        }

        /* ... existing cart styles ... */

        /* Mobile: full width drawer */
        @media (max-width: 520px) {
            .cart-drawer { width: 100vw; max-width: none; }
            .cart-drawer__actions { grid-template-columns: 1fr; }
        }

        /* UTILITY: Hide Scrollbar but allow scrolling */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }

        /* SEARCH DROPDOWN (HEADER DRAWER) - UGREEN STYLE */
        #searchOverlay{
          position:fixed; inset:0;
          background:rgba(0,0,0,.35);
          opacity:0; pointer-events:none;
          transition:opacity 220ms ease;
          z-index:998;
        }
        #searchDropdown{
          position:fixed;
          top:4rem; left:0; right:0;
          background:#fff;
          border-bottom:1px solid rgba(0,0,0,.08);
          transform:translateY(-18px);
          opacity:0; pointer-events:none;
          transition:transform 260ms cubic-bezier(.4,0,.2,1), opacity 220ms ease;
          z-index:999;
        }
        #searchDropdown.active{
          transform:translateY(0);
          opacity:1; pointer-events:auto;
        }
        #searchOverlay.active{
          opacity:1; pointer-events:auto;
        }
        #searchDropdown .search-inner{
          max-width:80rem;
          margin:0 auto;
          padding:16px 16px 18px;
        }
        #searchDropdown .search-row{ display:flex; align-items:center; gap:12px; }
        #searchDropdown .search-input-wrap{
          width:100%; height:52px;
          display:flex; align-items:center; gap:10px;
          border:1px solid rgba(0,0,0,.14);
          background:#fff;
          padding:0 14px;
        }
        #searchDropdown .search-icon{ width:18px; height:18px; opacity:.55; }
        #searchDropdown input{
          flex:1; height:100%;
          border:none; outline:none;
          font-size:14px; color:#111;
          background:transparent; min-width:0;
        }
        #searchDropdown input::placeholder{ color:rgba(0,0,0,.45); }
        #searchCloseBtn{
          border:none; background:transparent;
          cursor:pointer;
          font-size:18px; line-height:1;
          padding:8px;
          color:rgba(0,0,0,.55);
          transition:color 180ms ease, transform 180ms ease;
        }
        #searchCloseBtn:hover{ color:#000; transform:rotate(90deg); }
        #searchDropdown .search-hint{
          margin-top:10px;
          font-size:12px;
          color:rgba(0,0,0,.55);
        }
        #searchDropdown .search-hint span{ color:rgba(0,0,0,.75); }
        #searchResults{ margin-top:14px; }
        #searchResults:empty{ display:none; }
        @media (max-width:520px){
          #searchDropdown .search-inner{ padding:14px 14px 16px; }
          #searchDropdown .search-input-wrap{ height:50px; }
        }

        /* SEARCH SMART PANEL (UGREEN STYLE) */
        .search-smart-panel {
            margin-top: 22px;
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 34px;
            align-items: start;
            animation: sspIn 240ms ease both;
        }

        /* REVISI UI SEARCH - TYPOGRAPHY & CARD STYLES */
        .ssp-title {
            font-size: 14px;
            font-weight: 700;
            margin: 0 0 14px 0;
            color: #000 !important; /* Force Black */
            text-transform: uppercase;
            letter-spacing: 0.05em;
            opacity: 1 !important; /* Remove Opacity */
        }

        /* Top Searches list - REVISI 1: HORIZONTAL FLOW */
        .ssp-topsearches {
            display: flex;
            flex-direction: row; /* Horizontal */
            flex-wrap: wrap; /* Lanjut ke bawah jika penuh */
            gap: 10px;
            align-items: start;
        }

        .ssp-chip {
            display: inline-flex;
            align-items: center;
            height: 36px;
            padding: 0 14px;
            /* REVISI: CARD KOTAK (Sharp Edges) + Neutral Gray */
            border-radius: 0 !important; 
            background: #F2F2F2 !important; 
            border: none !important;
            
            color: #111;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: background 180ms ease, transform 180ms ease;
            width: fit-content;
        }

        .ssp-chip:hover {
            background: #E5E5E5 !important; /* Slightly darker gray on hover */
            transform: translateX(2px);
        }

        /* Suggested Products grid - REVISI 2: SINGLE BIG CARD */
        .ssp-products {
            display: grid;
            /* Force single column to take full width */
            grid-template-columns: 1fr; 
            gap: 16px;
        }

        .ssp-product {
            display: grid;
            grid-template-columns: 80px 1fr; /* Adjusted for larger thumb */
            gap: 20px; /* Bigger Gap */
            align-items: center;
            padding: 20px; /* Bigger Padding */
            
            /* REVISI: CARD KOTAK (Sharp Edges) + Neutral Gray */
            background: #F2F2F2 !important; 
            border-radius: 0 !important;
            border: none !important;
            
            cursor: pointer;
            transition: all 180ms ease;
            text-align: left;
            min-height: 100px; /* Ensure visual weight */
        }

        .ssp-product:hover {
            background: #E5E5E5 !important;
            box-shadow: none; /* No shadow per request style */
            transform: translateY(-2px);
        }

        .ssp-thumb {
            width: 80px; /* REVISI: BIGGER THUMB */
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #fff;
            /* REVISI: Sharp thumb container */
            border-radius: 0 !important; 
            padding: 6px;
        }

        .ssp-thumb img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            mix-blend-mode: multiply;
        }

        .ssp-name {
            font-size: 15px; /* REVISI: Slightly bigger text */
            font-weight: 600;
            line-height: 1.4;
            color: #111;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        /* Animation */
        @keyframes sspIn {
            from { opacity: 0; transform: translateY(6px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Responsive Smart Panel */
        @media (max-width: 1024px){
            .search-smart-panel {
                grid-template-columns: 1fr;
                gap: 24px;
            }
            /* Pada tablet/mobile, karena layout stack, card produk juga full width (1fr) */
            .ssp-products {
                grid-template-columns: 1fr; 
            }
            .ssp-topsearches {
                flex-direction: row;
                flex-wrap: wrap;
            }
        }
        @media (max-width: 520px){
            /* Mobile tweaks */
        }

    </style>
</head>
<body class="font-sans">

    <!-- AUTH MODAL SYSTEM (HIDDEN BY DEFAULT) -->
    <!-- ... existing auth modal ... -->
    <div id="auth-modal" aria-hidden="true">
        <div id="auth-modal-backdrop"></div>
        <div id="auth-modal-content">
            <!-- Close Button -->
            <button id="auth-modal-close" class="absolute top-4 right-4 text-matte-black hover:opacity-70">
                <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6 18L18 6M6 6l12 12"/></svg>
            </button>

            <!-- State 1: Login Form (Default) -->
            <div id="auth-view-login">
                <h2 class="font-display text-2xl font-bold mb-2">Sign in</h2>
                <p class="text-sm text-soft-gray mb-8">Sign in to manage orders, wishlist, and account.</p>
                
                <button id="btn-google-login" class="w-full flex items-center justify-center gap-3 px-6 py-3 border border-gray-300 hover:bg-gray-50 transition duration-200">
                    <!-- Google SVG -->
                    <svg class="w-5 h-5" viewBox="0 0 24 24">
                        <path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/>
                        <path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/>
                        <path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.84z" fill="#FBBC05"/>
                        <path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/>
                    </svg>
                    <span class="font-medium text-matte-black">Continue with Google</span>
                </button>
                <div id="login-error" class="text-red-500 text-xs mt-3 hidden"></div>
            </div>

            <!-- State 2: Account Dashboard (Authenticated) -->
            <div id="auth-view-dashboard" class="hidden">
                <h2 class="font-display text-2xl font-bold mb-1">Welcome back</h2>
                <p id="user-email-display" class="text-sm text-soft-gray mb-8">user@example.com</p>
                
                <div class="space-y-3 mb-8">
                    <button class="w-full py-3 text-left px-4 bg-gray-50 hover:bg-gray-100 flex justify-between items-center group">
                        <span class="font-medium">My Orders</span>
                        <svg class="w-4 h-4 text-gray-400 group-hover:text-matte-black" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
                    </button>
                    <button class="w-full py-3 text-left px-4 bg-gray-50 hover:bg-gray-100 flex justify-between items-center group">
                        <span class="font-medium">Wishlist</span>
                        <svg class="w-4 h-4 text-gray-400 group-hover:text-matte-black" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
                    </button>
                </div>

                <button id="btn-sign-out" class="text-sm font-medium text-soft-gray hover:text-red-600 transition underline">
                    Sign Out
                </button>
            </div>
        </div>
    </div>

    <!-- CART DRAWER OVERLAY & COMPONENT (NEW) -->
    <div id="cartOverlay" class="cart-overlay" aria-hidden="true"></div>

    <aside id="cartDrawer" class="cart-drawer" aria-hidden="true" role="dialog" aria-label="Shopping Cart">
      <div class="cart-drawer__header">
        <div class="cart-drawer__title">Shopping Cart</div>
        <button id="cartCloseBtn" class="cart-drawer__close" type="button" aria-label="Close cart">âœ•</button>
      </div>

      <div id="cartDrawerItems" class="cart-drawer__items">
        <!-- Items injected via JS -->
      </div>

      <div class="cart-drawer__footer">
        <div class="cart-drawer__subtotal">
          <div class="cart-drawer__subtotal-row">
            <span>Subtotal:</span>
            <strong id="cartSubtotal">$0.00</strong>
          </div>
          <div class="cart-drawer__note">Taxes and shipping calculated at checkout</div>
        </div>

        <div class="cart-drawer__actions">
          <button id="viewCartBtn" class="btn-viewcart" type="button">VIEW CART</button>
          <button id="checkoutBtn" class="btn-checkout" type="button">CHECK OUT</button>
        </div>
      </div>
    </aside>

    <!-- MOBILE DRAWER OVERLAY - Rombakan UGREEN Style -->
    <!-- ... existing mobile drawer ... -->
    <div id="mobile-drawer-overlay" class="lg:hidden">
        
        <!-- MOBILE DRAWER PANEL - Ditempatkan di bawah Header (top: 4rem) -->
        <div id="mobile-drawer" class="shadow-2xl">
            
            <!-- List Navigasi Mobile -->
            <nav class="flex flex-col space-y-0 overflow-y-auto flex-grow">
                
                <!-- ... existing nav items ... -->
                <!-- MENU UTAMA (5 ITEMS) - REVISI MENU -->
                <a href="#explore-lineup" class="drawer-nav-item">
                    <span class="drawer-label drawer-anim-text">Explore</span>
                    <span class="drawer-chevron">
                        <svg class="w-4 h-4 drawer-arrow" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
                    </span>
                </a>
                
                <a href="#signature-collections" class="drawer-nav-item">
                    <span class="drawer-label drawer-anim-text">Collections</span>
                    <span class="drawer-chevron">
                        <svg class="w-4 h-4 drawer-arrow" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
                    </span>
                </a>
                
                <a href="#four-principles" class="drawer-nav-item">
                    <span class="drawer-label drawer-anim-text">Principles</span>
                    <span class="drawer-chevron">
                        <svg class="w-4 h-4 drawer-arrow" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
                    </span>
                </a>
                
                <a href="#precision-design" class="drawer-nav-item">
                    <span class="drawer-label drawer-anim-text">Driven</span>
                    <span class="drawer-chevron">
                        <svg class="w-4 h-4 drawer-arrow" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
                    </span>
                </a>

                <a href="#newsroom" class="drawer-nav-item">
                    <span class="drawer-label drawer-anim-text">Newsroom</span>
                    <span class="drawer-chevron">
                        <svg class="w-4 h-4 drawer-arrow" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
                    </span>
                </a>

                <!-- BAGIAN BAWAH (STORE & ACCOUNT) - SECTION TITLE BARU -->
                <h4 class="store-links-title drawer-section-title drawer-anim-text">Store Links</h4>
                
                <!-- ... existing secondary links ... -->
                <a href="#" class="drawer-secondary-link border-t-0">
                    <span class="drawer-label text-base font-normal drawer-anim-text">Charging Stand for MagSafe</span>
                    <span class="drawer-external">
                        <svg class="drawer-external-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/></svg>
                    </span>
                </a>
                
                <a href="cart.html" class="drawer-secondary-link">
                    <span class="drawer-label text-base font-normal drawer-anim-text">Shopping Cart</span>
                    <span class="drawer-external">
                        <svg class="drawer-external-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/></svg>
                    </span>
                </a>
                
                <a href="#" class="drawer-secondary-link border-b-0" data-nav="account" id="drawer-account-link">
                    <span class="drawer-label text-base font-normal drawer-anim-text">Account</span>
                    <span class="drawer-external">
                        <svg class="drawer-external-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/></svg>
                    </span>
                </a>
                
                <!-- REVISI: Language Selector (United States + Icon Dunia) DIHAPUS -->

            </nav>

        </div>
    </div>
    
    <!-- ... Header, Main content, Footer, etc. are largely unchanged, skipping purely distinct content to stay concise where possible, but maintaining file integrity ... -->
    <!-- HEADER + NAVIGATION -->
    <header id="main-header" class="fixed top-0 left-0 right-0 z-40 sticky-header is-top">
        <!-- ... header content ... -->
        <div class="header-content-wrapper max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center h-16">
            <div class="flex items-center h-full">
                <a href="/" class="logo-wrapper mr-6 flex items-center shrink-0 transition-opacity duration-300 hover:opacity-80">
                    <img src="https://i.imgur.com/o5qgEFs.png" alt="FOUR" class="logo-white" width="132" height="48">
                    <img src="https://i.imgur.com/KxxlMqR.png" alt="FOUR" class="logo-black" width="132" height="48">
                </a>
                <nav class="hidden lg:flex items-center space-x-8 h-full ml-6">
                    <a href="#explore-lineup" class="header-nav-link">Explore</a>
                    <a href="#signature-collections" class="header-nav-link">Collections</a>
                    <a href="#four-principles" class="header-nav-link">Principles</a>
                    <a href="#precision-design" class="header-nav-link">Driven</a>
                    <a href="#newsroom" class="header-nav-link">Newsroom</a>
                </nav>
            </div>
            
            <!-- DESKTOP ACTIONS (Search + Store) -->
            <div class="relative hidden lg:flex items-center gap-4">
                <!-- Search Button Desktop -->
                <button id="openSearchDesktop" type="button" class="p-2 rounded-full hover:bg-black/5 transition header-nav-link flex items-center justify-center" aria-label="Search">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="7"></circle>
                    <path d="M21 21l-4.3-4.3"></path>
                  </svg>
                </button>

                <!-- Store Button Wrapper -->
                <div class="relative">
                   <button id="store-btn" class="force-solid-black font-medium text-base px-5 py-2 flex items-center h-10 transition duration-300 ease-in-out rounded-full whitespace-nowrap hover:bg-muted-navy">
                        Store 
                        <svg id="store-arrow" class="w-4 h-4 ml-1.5 transition duration-300 transform rotate-0" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
                    </button>
                    
                    <!-- Store Menu Dropdown -->
                    <!-- REVISI PENTING: HAPUS CLASS 'hidden' DI SINI! -->
                    <!-- Biarkan CSS .four-ugreen-menu yang handle visibility via opacity agar animasi jalan -->
                    <div id="store-menu" class="four-ugreen-menu">
                        <a class="four-ugreen-item" href="cart.html" rel="noopener">Shopping Cart <span class="four-ugreen-icon"><svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/></svg></span></a>
                        <a class="four-ugreen-item" href="#" rel="noopener">Checkout <span class="four-ugreen-icon"><svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/></svg></span></a>
                        <a class="four-ugreen-item" href="#" rel="noopener" data-nav="account">Account <span class="four-ugreen-icon"><svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/></svg></span></a>
                    </div>
                </div>
            </div>

            <!-- MOBILE ACTIONS (Search + Hamburger) -->
            <div class="lg:hidden flex items-center gap-1">
                <!-- Search Button Mobile -->
                <button id="openSearchMobile" class="p-2 rounded-full hover:bg-black/5 transition text-matte-black header-nav-link flex items-center justify-center" aria-label="Search">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="7"></circle>
                        <path d="M21 21l-4.3-4.3"></path>
                    </svg>
                </button>

                <!-- Hamburger Menu -->
                <button id="mobile-menu-toggle" class="hamburger-btn ml-1" aria-label="Toggle Menu" aria-expanded="false">
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                </button>
            </div>
        </div>
    </header>

    <!-- SEARCH DROPDOWN SYSTEM (UGREEN STYLE) -->
    <div id="searchOverlay" aria-hidden="true"></div>

    <div id="searchDropdown" aria-hidden="true" role="dialog" aria-label="Search">
      <div class="search-inner">
        <div class="search-row">
          <div class="search-input-wrap">
            <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="11" cy="11" r="7"></circle>
              <path d="M21 21l-4.3-4.3"></path>
            </svg>

            <!-- REVISI 1: Placeholder Baru -->
            <input id="searchInput" type="search" placeholder="What are you looking for?" autocomplete="off" />
            <button id="searchCloseBtn" type="button" aria-label="Close search">âœ•</button>
          </div>
        </div>

        <!-- REVISI 2: Hapus Hint Lama, Ganti Smart Panel -->
        <div id="searchSmartPanel" class="search-smart-panel">
            <div class="ssp-left">
                <h4 class="ssp-title">Top Searches</h4>
                <div id="topSearches" class="ssp-topsearches"></div>
            </div>

            <div class="ssp-right">
                <h4 class="ssp-title">Suggested Products</h4>
                <div id="suggestedProducts" class="ssp-products"></div>
            </div>
        </div>

        <!-- Container hasil pencarian live (tetap ada) -->
        <div id="searchResults" class="search-results" style="display:none;"></div>
      </div>
    </div>

    <!-- ... Main content (Hero, Sections A-I) ... -->
    <main>
        <!-- HERO SLIDER SECTION -->
        <section id="hero" class="four-hero relative overflow-hidden pt-16 h-[760px] lg:h-[860px] flex items-center justify-center hero-image-container">
            <!-- ... Slides ... -->
            <div id="hero-slides-container" class="absolute inset-0">
                <div class="hero-slide active" id="slide-1" style="background-image: url('https://i.imgur.com/Px9bCqx.png');">
                    <div class="slide-content relative z-30 text-center max-w-4xl px-4">
                        <h1 id="hero-title" class="font-display">FOUR MagCore</h1>
                        <!-- Removed Paragraph -->
                        <a href="#" class="btn-hero-cta">Learn MagCore</a>
                    </div>
                </div>
                <!-- ... other slides ... -->
                <div class="hero-slide" id="slide-2" style="background-image: url('https://placehold.co/1200x800/2D3A45/FFFFFF?text=Slide+2%0ADesk+Essentials');">
                    <div class="slide-content relative z-30 text-center max-w-4xl px-4">
                        <h1 class="font-display">Out of Sight. Back in Control.</h1>
                         <!-- Removed Paragraph -->
                        <a href="#" class="btn-hero-cta">Learn MagCore</a>
                    </div>
                </div>
                <div class="hero-slide" id="slide-3" style="background-image: url('https://placehold.co/1200x800/0A0A0A/C7C7C7?text=Slide+3%0AFOUR+Desk+Setup+System');">
                    <div class="slide-content relative z-30 text-center max-w-4xl px-4">
                        <h1 class="font-display">Charge While You Work</h1>
                         <!-- Removed Paragraph -->
                        <a href="#" class="btn-hero-cta">Learn MagCore</a>
                    </div>
                </div>
                <div class="hero-slide" id="slide-4" style="background-image: url('https://placehold.co/1200x800/C7C7C7/0A0A0A?text=Slide+4%0AFOUR+Modular+Storage');">
                    <div class="slide-content relative z-30 text-center max-w-4xl px-4">
                        <h1 class="font-display">Designed to Disappear</h1>
                         <!-- Removed Paragraph -->
                        <a href="#" class="btn-hero-cta">Learn MagCore</a>
                    </div>
                </div>
            </div>
            
            <div class="hero-ui-container">
                <button id="hero-prev" aria-label="Previous slide" class="hero-arrow hero-prev">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <path d="M15 6L9 12L15 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </button>
                <div class="hero-progress-wrap" aria-hidden="true">
                  <div class="hero-progress-segment" data-segment-index="0"></div>
                  <div class="hero-progress-segment" data-segment-index="1"></div>
                  <div class="hero-progress-segment" data-segment-index="2"></div>
                  <div class="hero-progress-segment" data-segment-index="3"></div>
                </div>
                <button id="hero-next" aria-label="Next slide" class="hero-arrow hero-next">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <path d="M9 6L15 12L9 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </button>
            </div>
        </section>

        <!-- Sections A-I (kept intact, just summarizing structure) -->
        <section id="explore-lineup" class="scroll-anchor max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 lg:py-30">
            <!-- ... content ... -->
            <!-- UPDATED TITLE (A) -->
            <h2 class="font-display text-4xl lg:text-5xl font-semibold mb-16 text-center reveal-title">Explore the Essentials</h2>
            <div id="lineup-container" class="lineup-container grid grid-cols-2 md:grid-cols-4 gap-8 lg:gap-12">
                <!-- ... category boxes ... -->
                <a href="#" class="category-box group scroll-reveal card-reveal">
                    <div class="category-media">
                        <img src="https://placehold.co/400x500/F3F3F3/0A0A0A?text=Charging+Stand" alt="Wireless Charging Product" width="100%" height="100%" loading="lazy">
                    </div>
                    <p class="category-label">Wireless Charging</p>
                </a>
                <a href="#" class="category-box group scroll-reveal card-reveal">
                    <div class="category-media">
                        <img src="https://placehold.co/400x500/F3F3F3/0A0A0A?text=Storage+System" alt="Storage Systems Product" width="100%" height="100%" loading="lazy">
                    </div>
                    <p class="category-label">Storage Systems</p>
                </a>
                <a href="#" class="category-box group scroll-reveal card-reveal">
                    <div class="category-media">
                        <img src="https://placehold.co/400x500/F3F3F3/0A0A0A?text=Monitor+Riser" alt="Monitor Risers Product" width="100%" height="100%" loading="lazy">
                    </div>
                    <p class="category-label">Monitor Risers</p>
                </a>
                <a href="#" class="category-box group scroll-reveal card-reveal">
                    <div class="category-media">
                        <img src="https://placehold.co/400x500/F3F3F3/0A0A0A?text=Cable+Mgmt" alt="Cable Management Product" width="100%" height="100%" loading="lazy">
                    </div>
                    <p class="category-label">Cable Management</p>
                </a>
            </div>
        </section>

        <!-- ===================== -->
        <!--  PRODUCT DETAIL PAGE  -->
        <!--  (Replaced per Strict Instruction) -->
        <!-- ===================== -->
        <section id="signature-collections" class="scroll-anchor bg-white">
          
          <!-- A) CINEMATIC HERO (Light Mode, Wide) -->
          <!-- MOBILE REFINEMENT: Reduced padding from pt-16/pb-12 to pt-10/pb-6 for density -->
          <div class="relative bg-white pt-10 pb-6 md:pt-24 md:pb-20">
            <div class="mx-auto max-w-6xl px-4 md:px-6"> <!-- Tighter side padding on mobile (px-4) -->
              
              <!-- Headline Block -->
              <!-- MOBILE REFINEMENT: mb-16 -> mb-6 -->
              <div class="text-center max-w-3xl mx-auto mb-6 md:mb-16">
                <!-- Chip: Smaller text on mobile, mb-6 -> mb-3 -->
                <p class="inline-flex items-center rounded-full border border-black/10 bg-black/[0.03] px-3 py-1 text-[11px] md:text-xs font-medium tracking-wide text-black/70 mb-3 md:mb-6">
                  Magnetic Focus Dock â€¢ Qi Wireless â€¢ Modular Mount
                </p>
                <!-- H1: text-3xl on mobile for density, leading-tight, mb-6 -> mb-3 -->
                <h1 class="text-3xl md:text-6xl font-semibold tracking-tight text-black leading-tight md:leading-[1.1] mb-3 md:mb-6">
                  Built for deep focus,<br class="hidden md:block" />
                  wherever you work.
                </h1>
                <!-- P: Added px-2 for safe margins -->
                <p class="text-sm md:text-base leading-relaxed text-black/70 max-w-xl mx-auto px-2">
                  Lock your phone away under your desk to stay distraction-freeâ€”while it charges. 
                  Compatible with iPhone & Android, even with a case.
                </p>
              </div>

              <!-- 3 Feature Callouts - FIX MUTLAK ALIGNMENT CENTER (MOBILE 100% WIDTH) -->
              <!-- MOBILE REFINEMENT: mt-6/mb-8 -> mt-5/mb-6 -->
              <div class="mt-5 md:mt-10 mb-6 md:mb-12">
                <div class="
                    flex md:grid md:grid-cols-3 
                    gap-0 md:gap-8  /* REVISI: gap-0 di mobile agar tidak ada offset saat scroll 100% */
                    overflow-x-auto md:overflow-visible 
                    scroll-smooth snap-x snap-mandatory 
                    pb-4 md:pb-0 
                    -mx-4 md:mx-0 /* REVISI: Hapus padding px-[5vw] di mobile, hanya full bleed -mx-4 */
                    [-ms-overflow-style:none] [scrollbar-width:none] [&::-webkit-scrollbar]:hidden
                ">
                  
                  <!-- Feature 1 - REVISI: w-full (100% viewport) + px-4 -->
                  <div class="snap-center shrink-0 w-full md:w-auto text-center flex flex-col items-center justify-center px-4">
                    <p class="text-lg font-bold text-black leading-snug mb-1">Phone-out-of-sight</p>
                    <p class="text-sm font-normal text-gray-500">Hide it. Work deeper.</p>
                  </div>

                  <!-- Feature 2 - REVISI: w-full (100% viewport) + px-4 -->
                  <div class="snap-center shrink-0 w-full md:w-auto text-center flex flex-col items-center justify-center px-4">
                    <p class="text-lg font-bold text-black leading-snug mb-1">Qi Wireless Charging</p>
                    <p class="text-sm font-normal text-gray-500">Charges while you focus.</p>
                  </div>

                  <!-- Feature 3 - REVISI: w-full (100% viewport) + px-4 -->
                  <div class="snap-center shrink-0 w-full md:w-auto text-center flex flex-col items-center justify-center px-4">
                    <p class="text-lg font-bold text-black leading-snug mb-1">Push-Push Precision</p>
                    <p class="text-sm font-normal text-gray-500">Push to eject & lock.</p>
                  </div>

                </div>
              </div>

              <!-- Cinematic Wide Image (Bottom Anchored) -->
              <!-- MOBILE REFINEMENT: Full Bleed (-mx-4) & Shorter Height -->
              <div class="relative w-[calc(100%+2rem)] -mx-4 md:mx-0 md:w-full">
                
                <div class="group relative overflow-hidden bg-black/[0.02] shadow-sm">
                  <!-- Static Cinematic Hero Image -->
                  <!-- MOBILE REFINEMENT: aspect-[2/1] for shorter vertical footprint on mobile -->
                  <div class="aspect-[2/1] md:aspect-[21/9] w-full bg-[#F5F5F5]">
                    <img src="https://placehold.co/1600x700/F5F5F5/111?text=FOUR+MagCore+Cinematic+View" alt="Cinematic Hero View" class="w-full h-full object-cover mix-blend-multiply opacity-90 transition-transform duration-1000 ease-in-out group-hover:scale-[1.02]">
                  </div>
                  <!-- Subtle bottom gradient overlay -->
                  <div class="pointer-events-none absolute inset-x-0 bottom-0 h-32 bg-gradient-to-t from-white to-transparent opacity-80"></div>
                </div>

                <!-- NEW CTA (Preorder Now) -->
                <!-- Reduced margin for proximity -->
                <div class="mt-4 md:mt-4 flex justify-center pb-2">
                  <a href="#" class="btn-ugreen-cta">
                    <span>Preorder Now</span>
                    <svg class="cta-arrow-svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                    </svg>
                  </a>
                </div>
              </div>
            </div>
          </div>
          
        </section>

        <!-- Lifestyle Section -->
        <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 lg:py-30 text-center"> <!-- Reduced py-20 to py-10 -->
            <h2 class="font-display text-3xl lg:text-5xl font-semibold mb-6 lg:mb-16 reveal-title">Made to Match Your World</h2> <!-- Reduced mb-16 to mb-6, text-4xl to text-3xl -->
            <div class="max-w-6xl mx-auto mt-6 lg:mt-16 space-y-6 lg:space-y-10"> <!-- Reduced mt-16 to mt-6, space-y-10 to space-y-6 -->
                
                <!-- MODIFIED IMAGE WRAPPER (Dual Layer for Crossfade) -->
                <!-- Reduced mobile height h-[360px] to h-[250px] -->
                <div id="lifestyle-image-wrapper" class="scroll-reveal w-full h-[250px] md:h-[400px] lg:h-[600px] mx-auto">
                    <!-- Layer 1 (Initial Active) -->
                    <div id="lifestyle-layer-1" class="lifestyle-layer active" style="background-image: url('https://placehold.co/1200x600/F3F3F3/0A0A0A?text=HOME+ORDER+SETUP');"></div>
                    <!-- Layer 2 (Initial Inactive) -->
                    <div id="lifestyle-layer-2" class="lifestyle-layer"></div>
                </div>
                <!-- END MODIFICATION -->

                <!-- REVISED UI: Tabs + Description (No H3 Headline) -->
                <div class="matchworld-wrap scroll-reveal">
                  <!-- TAB BAR -->
                  <div class="matchworld-tabs" role="tablist" aria-label="Made to Match Your World Tabs">
                    <button class="mw-tab active" type="button" role="tab" aria-selected="true" data-tab="home">HOME</button>
                    <button class="mw-tab" type="button" role="tab" aria-selected="false" data-tab="workspace">WORKSPACE</button>
                    <span class="mw-indicator" aria-hidden="true"></span>
                  </div>

                  <!-- DESCRIPTION (Paragraph Only) -->
                  <p id="mw-desc" class="mw-desc">
                    From kitchen counter to bedside table, FOUR gives every corner of your home the power and order it needsâ€”so you can focus on what matters most.
                  </p>

                  <!-- CTA -->
                  <div class="flex justify-center">
                      <a href="#explore-lineup" class="mw-cta">
                        Discover Everyday Essentials
                        <span class="mw-cta-arrow" aria-hidden="true">â€º</span>
                      </a>
                  </div>
                </div>

            </div>
        </section>

        <!-- Other sections (Principles, Stats, Quotes, Newsroom) remain same structure -->
        <section id="four-principles" class="scroll-anchor text-matte-black py-20 lg:py-30">
             <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                 <h2 class="font-display text-4xl lg:text-5xl font-semibold mb-16 text-center reveal-title">Built on Four Principles</h2>
                 <div class="principles-container grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                     <!-- Cards... -->
                     <div class="principle-card scroll-reveal"><div class="principle-symbol reveal-sub"><img src="https://i.imgur.com/oNP1Kin.png" alt="F" class="principle-png" loading="lazy"></div><h3 class="font-display text-xl font-bold reveal-title">Function</h3><p class="text-sm text-soft-gray">Functional Aesthetic: Beautiful form that solves a real-world problem.</p></div>
                     <div class="principle-card scroll-reveal"><div class="principle-symbol reveal-sub"><img src="https://i.imgur.com/jGOb4wZ.png" alt="O" class="principle-png" loading="lazy"></div><h3 class="font-display text-xl font-bold reveal-title">Order</h3><p class="text-sm text-soft-gray">Creating systematic space management and eliminating visual noise.</p></div>
                     <div class="principle-card scroll-reveal"><div class="principle-symbol reveal-sub"><img src="https://i.imgur.com/PQ60c5u.png" alt="U" class="principle-png" loading="lazy"></div><h3 class="font-display text-xl font-bold reveal-title">Utility</h3><p class="text-sm text-soft-gray">Modular & Smart: Solutions designed to be reconfigured as your needs change.</p></div>
                     <div class="principle-card scroll-reveal"><div class="principle-symbol reveal-sub"><img src="https://i.imgur.com/owasf4j.png" alt="R" class="principle-png" loading="lazy"></div><h3 class="font-display text-xl font-bold reveal-title">Refinement</h3><p class="text-sm text-soft-gray">Precision in Every Corner: Thoughtful details and premium materials.</p></div>
                 </div>
             </div>
        </section>

        <!-- Stats -->
        <section id="precision-design" class="scroll-anchor max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 lg:py-30">
            <h2 class="font-display text-4xl lg:text-5xl font-semibold mb-16 text-center reveal-title">Driven by Precision Design</h2>
            <div class="grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-8">
                <div class="text-center scroll-reveal"><p class="font-display text-5xl lg:text-6xl font-bold text-muted-navy reveal-title">4-Step</p><p class="text-lg font-medium mt-2 reveal-sub">Design System</p><p class="text-sm text-soft-gray mt-1 reveal-sub">Designed with a 4-step system</p></div>
                <div class="text-center scroll-reveal"><p class="font-display text-5xl lg:text-6xl font-bold text-muted-navy reveal-title">100%</p><p class="text-lg font-medium mt-2 reveal-sub">Modular Parts</p><p class="text-sm text-soft-gray mt-1 reveal-sub">Across collections for flexibility</p></div>
                <div class="text-center scroll-reveal"><p class="font-display text-5xl lg:text-6xl font-bold text-muted-navy reveal-title">Optimized</p><p class="text-lg font-medium mt-2 reveal-sub">Space Usage</p><p class="text-sm text-soft-gray mt-1 reveal-sub">For small spaces and efficiency</p></div>
                <div class="text-center scroll-reveal"><p class="font-display text-5xl lg:text-6xl font-bold text-muted-navy reveal-title">Built</p><p class="text-lg font-medium mt-2 reveal-sub">For Daily Use</p><p class="text-sm text-soft-gray mt-1 reveal-sub">Durable construction for longevity</p></div>
            </div>
        </section>

        <!-- Media Quotes -->
        <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 lg:py-30">
            <h2 class="font-display text-4xl lg:text-5xl font-semibold mb-16 text-center reveal-title">Media Voices</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="scroll-reveal p-8 border border-soft-gray/30 bg-warm-white shadow-soft reveal-sub"><p class="text-2xl font-display font-medium mb-4 italic leading-relaxed">"A clean modular system that makes small desks feel bigger."</p><p class="text-sm font-semibold text-matte-black border-t pt-4 border-soft-gold/50">Tech Lifestyle</p></div>
                <div class="scroll-reveal p-8 border border-soft-gray/30 bg-warm-white shadow-soft reveal-sub"><p class="text-2xl font-display font-medium mb-4 italic leading-relaxed">"Minimal, sturdy, and surprisingly versatileâ€”the new standard for setup organization."</p><p class="text-sm font-semibold text-matte-black border-t pt-4 border-soft-gold/50">Workspace Journal</p></div>
                <div class="scroll-reveal p-8 border border-soft-gray/30 bg-warm-white shadow-soft reveal-sub"><p class="text-2xl font-display font-medium mb-4 italic leading-relaxed">"A productivity upgrade disguised as decor. High-end look without the premium price tag."</p><p class="text-sm font-semibold text-matte-black border-t pt-4 border-soft-gold/50">Setup Daily</p></div>
            </div>
        </section>

        <!-- Newsroom -->
        <section id="newsroom" class="scroll-anchor max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 lg:py-30">
            <h2 class="font-display text-4xl lg:text-5xl font-semibold mb-16 text-center reveal-title">Newsroom</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <a href="#" class="group scroll-reveal block overflow-hidden bg-warm-white border border-soft-gray/30 hover:shadow-premium transition duration-300 reveal-sub"><div class="h-40 bg-muted-navy/20 flex items-center justify-center"><p class="text-sm text-white">Article Image Placeholder</p></div><div class="p-6"><p class="text-xs text-soft-gray mb-2">November 10, 2025</p><h3 class="font-display text-xl font-bold group-hover:text-muted-navy transition duration-200">FOUR Launch: Desk Setup Essentials</h3><p class="text-sm text-soft-gray mt-2">Discover the first collection: the core pieces for a clean, optimized desk.</p></div></a>
                <a href="#" class="group scroll-reveal block overflow-hidden bg-warm-white border border-soft-gray/30 hover:shadow-premium transition duration-300 reveal-sub"><div class="h-40 bg-muted-navy/20 flex items-center justify-center"><p class="text-sm text-white">Article Image Placeholder</p></div><div class="p-6"><p class="text-xs text-soft-gray mb-2">November 20, 2025</p><h3 class="font-display text-xl font-bold group-hover:text-muted-navy transition duration-200">Introducing Modular Drawer System</h3><p class="text-sm text-soft-gray mt-2">The future of flexible storage is here with stackable, smart drawer cubes.</p></div></a>
                <a href="#" class="group scroll-reveal block overflow-hidden bg-warm-white border border-soft-gray/30 hover:shadow-premium transition duration-300 reveal-sub"><div class="h-40 bg-muted-navy/20 flex items-center justify-center"><p class="text-sm text-white">Article Image Placeholder</p></div><div class="p-6"><p class="text-xs text-soft-gray mb-2">November 10, 2025</p><h3 class="font-display text-xl font-bold group-hover:text-muted-navy transition duration-200">How to Build a Clean Workspace in 15 Minutes</h3><p class="text-sm text-soft-gray mt-2">Our guide to fast, impactful organization using the FOUR system.</p></div></a>
            </div>
        </section>
    </main>

    <!-- FOOTER -->
    <footer class="four-footer pt-20 pb-8 mt-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <!-- REVISI GRID: lg:grid-cols-5 jadi lg:grid-cols-6 agar kolom baru muat & rapi -->
            <div class="grid grid-cols-1 lg:grid-cols-6 gap-10 lg:gap-16 pb-16 border-b border-soft-gray/20">
                <!-- Newsletter -->
                <div class="lg:col-span-2">
                    <h3 class="font-display text-3xl font-bold mb-4">Design That Organizes Life.</h3>
                    <!-- REVISI E: Teks Newsletter Baru -->
                    <p class="text-sm mb-6">Get exclusive updates, product launches, special offers, and expert tips delivered straight to your inbox</p>
                    <form class="signup-form" action="#" method="post">
                        <div class="signup-wrap">
                            <input class="signup-input" type="email" placeholder="Enter your email address" name="email" required>
                            <button class="signup-btn" type="submit">Sign up</button>
                        </div>
                        <label class="consent-row">
                            <input type="checkbox" class="form-checkbox bg-muted-navy border-soft-gray rounded text-soft-gold" required>
                            <span>I agree to receive FOUR news, offers, and product updates via email.</span>
                        </label>
                    </form>
                    <div class="social-strip">
                        <a href="#" class="social-cell" aria-label="Facebook"><img src="https://i.imgur.com/3s9G8Go.png" alt="Facebook" class="social-img"></a>
                        <a href="#" class="social-cell" aria-label="Instagram"><img src="https://i.imgur.com/cGS0kEI.png" alt="Instagram" class="social-img"></a>
                        <a href="#" class="social-cell" aria-label="TikTok"><img src="https://i.imgur.com/BmvenkY.png" alt="TikTok" class="social-img"></a>
                        <a href="#" class="social-cell" aria-label="X"><img src="https://i.imgur.com/1gESkfk.png" alt="X" class="social-img"></a>
                    </div>
                </div>

                <!-- REVISI A: Kolom Product (Hapus uppercase, isi Wireless Chargers) -->
                <div>
                    <h4 class="text-sm font-semibold tracking-wider mb-4">Product</h4>
                    <!-- ACTION: Tambah font-light di sini -->
                    <ul class="space-y-2 text-sm font-light">
                        <li><a href="#" class="transition duration-150">Wireless Chargers</a></li>
                    </ul>
                </div>

                <!-- REVISI B: Kolom Series (Ex Collections, Hapus uppercase, isi MagCore Series) -->
                <div>
                    <h4 class="text-sm font-semibold tracking-wider mb-4">Series</h4>
                    <!-- ACTION: Tambah font-light di sini -->
                    <ul class="space-y-2 text-sm font-light">
                        <li><a href="#" class="transition duration-150">MagCore Series</a></li>
                    </ul>
                </div>

                <!-- REVISI C: Kolom Company (Ex Company & Support, isi About & Contact) -->
                <div>
                    <h4 class="text-sm font-semibold tracking-wider mb-4">Company</h4>
                    <!-- ACTION: Tambah font-light di sini -->
                    <ul class="space-y-2 text-sm font-light">
                        <li><a href="#" class="transition duration-150">About FOUR</a></li>
                        <li><a href="#" class="transition duration-150">Contact</a></li>
                    </ul>
                </div>
                
                <!-- REVISI D: Kolom Support (BARU) -->
                <div>
                    <h4 class="text-sm font-semibold tracking-wider mb-4">Support</h4>
                    <!-- ACTION: Tambah font-light di sini -->
                    <ul class="space-y-2 text-sm font-light">
                        <li><a href="#" class="transition duration-150">Support Center</a></li>
                        <li><a href="#" class="transition duration-150">Warranty</a></li>
                    </ul>
                </div>
            </div>
            <div class="flex flex-col sm:flex-row justify-between items-center pt-8 text-sm">
                <p class="mb-4 sm:mb-0">Â© 2025 FOUR. All rights reserved. | <a href="#" class="transition duration-150">Privacy Policy</a></p>
                <div class="hidden sm:block"></div>
            </div>
        </div>
    </footer>

    <!-- Back to Top Button -->
    <button id="back-to-top" class="fixed bottom-6 right-6 p-4 bg-matte-black text-warm-white rounded-full shadow-lg opacity-0 pointer-events-none transition duration-300 hover:bg-muted-navy z-40" aria-label="Back to top">
        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M5 10l7-7m0 0l7 7m-7-7v18"/></svg>
    </button>

    <!-- REMOVED OLD SEARCH MODAL -->

    <!-- FIREBASE AND APP LOGIC (MODULE SCRIPT) -->
    <script type="module">
        // ... (Firebase logic unchanged) ...
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, GoogleAuthProvider, signInWithPopup, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        // ... (Rest of firebase script matches previous version) ...
        const firebaseConfig = { apiKey: "YOUR_API_KEY", authDomain: "YOUR_PROJECT_ID.firebaseapp.com", projectId: "YOUR_PROJECT_ID", storageBucket: "YOUR_PROJECT_ID.appspot.com", messagingSenderId: "YOUR_MESSAGING_SENDER_ID", appId: "YOUR_APP_ID" };
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const provider = new GoogleAuthProvider();
        // ... (Auth modal logic) ...
        const authModal = document.getElementById('auth-modal');
        const authModalClose = document.getElementById('auth-modal-close');
        const authModalBackdrop = document.getElementById('auth-modal-backdrop');
        const btnGoogleLogin = document.getElementById('btn-google-login');
        const loginError = document.getElementById('login-error');
        const viewLogin = document.getElementById('auth-view-login');
        const viewDashboard = document.getElementById('auth-view-dashboard');
        const userEmailDisplay = document.getElementById('user-email-display');
        const btnSignOut = document.getElementById('btn-sign-out');
        const openAuthModal = () => { authModal.classList.remove('hidden'); requestAnimationFrame(() => { authModal.classList.add('active'); }); document.body.style.overflow = 'hidden'; };
        const closeAuthModal = () => { authModal.classList.remove('active'); setTimeout(() => { document.body.style.overflow = ''; }, 300); };
        const updateAuthUI = (user) => { if (user) { viewLogin.classList.add('hidden'); viewDashboard.classList.remove('hidden'); userEmailDisplay.textContent = user.email; } else { viewLogin.classList.remove('hidden'); viewDashboard.classList.add('hidden'); loginError.classList.add('hidden'); userEmailDisplay.textContent = ''; } };
        onAuthStateChanged(auth, (user) => { updateAuthUI(user); });
        btnGoogleLogin.addEventListener('click', async () => { try { loginError.classList.add('hidden'); await signInWithPopup(auth, provider); } catch (error) { console.error("Login failed", error); loginError.textContent = "Unable to sign in. Please try again."; loginError.classList.remove('hidden'); } });
        btnSignOut.addEventListener('click', async () => { try { await signOut(auth); } catch (error) { console.error("Sign out failed", error); } });
        authModalClose.addEventListener('click', closeAuthModal);
        authModalBackdrop.addEventListener('click', closeAuthModal);
        const drawerAccountLink = document.getElementById('drawer-account-link');
        if (drawerAccountLink) { drawerAccountLink.addEventListener('click', (e) => { e.preventDefault(); e.stopImmediatePropagation(); const drawerOverlay = document.getElementById('mobile-drawer-overlay'); const mobileMenuToggle = document.getElementById('mobile-menu-toggle'); if(drawerOverlay.classList.contains('active')){ drawerOverlay.classList.add('closing'); mobileMenuToggle.classList.remove('active'); mobileMenuToggle.setAttribute('aria-expanded', 'false'); setTimeout(() => { drawerOverlay.classList.remove('active'); drawerOverlay.classList.remove('closing'); document.body.style.overflow = ''; openAuthModal(); }, 300); } else { openAuthModal(); } }); }
        const desktopAccountLinks = document.querySelectorAll('a[data-nav="account"]');
        desktopAccountLinks.forEach(link => { if(link !== drawerAccountLink) { link.addEventListener('click', (e) => { e.preventDefault(); const storeMenu = document.getElementById("store-menu"); const storeArrow = document.getElementById("store-arrow"); if (storeMenu) storeMenu.classList.add("hidden"); if (storeArrow) storeArrow.classList.remove("rotate-180"); openAuthModal(); }); } });
    </script>

    <!-- Main App Script -->
    <script>
        // === UGREEN-STYLE SEARCH LOGIC (UPDATED WITH SMART PANEL) ===
        const $ = (sel, root = document) => root.querySelector(sel);
        const header = document.getElementById('main-header'); // Reference Header

        // Helper: Toggle Header Interaction State
        // ... (Header interaction helper unchanged) ...
        const setHeaderInteraction = (isActive) => {
            if (isActive) {
                header.classList.add('interaction-active');
            } else {
                header.classList.remove('interaction-active');
            }
        };

        const searchOverlay = $("#searchOverlay");
        const searchDropdown = $("#searchDropdown");
        /* REVISI: Ganti selector #openSearch jadi #openSearchDesktop biar match sama HTML */
        const openSearchBtn = $("#openSearchDesktop"); 
        const openSearchMobile = $("#openSearchMobile"); // Support mobile btn
        const searchCloseBtn = $("#searchCloseBtn");
        const searchInput = $("#searchInput");
        const searchResults = $("#searchResults");
        const searchSmartPanel = $("#searchSmartPanel"); // New Panel

        // 1. Search Analytics Storage
        const SEARCH_KEY = "four_top_searches_v1";
        function loadSearchStats(){
            try{ return JSON.parse(localStorage.getItem(SEARCH_KEY)) || {}; }catch{ return {}; }
        }
        function saveSearchStats(stats){
            localStorage.setItem(SEARCH_KEY, JSON.stringify(stats));
        }
        function recordSearch(query){
            const q = (query||"").trim().toLowerCase();
            if(!q) return;
            const stats = loadSearchStats();
            stats[q] = (stats[q] || 0) + 1;
            saveSearchStats(stats);
        }

        // 2. Render Top Searches
        function renderTopSearches(){
            const el = document.getElementById("topSearches");
            if(!el) return;
            el.innerHTML = "";

            const stats = loadSearchStats();
            const top = Object.entries(stats)
                .sort((a,b)=>b[1]-a[1])
                .slice(0, 6)
                .map(([term])=>term);
            
            // Fallback default terms if empty
            const fallback = ["MagCore", "Charger", "Storage", "Cable", "Wireless", "Riser"];
            const list = top.length ? top : fallback; // Use fallback if empty

            list.forEach((term)=>{
                const chip = document.createElement("button");
                chip.type = "button";
                chip.className = "ssp-chip";
                // Capitalize first letter
                const displayTerm = term.charAt(0).toUpperCase() + term.slice(1);
                chip.textContent = displayTerm;
                
                chip.addEventListener("click", ()=>{
                    searchInput.value = displayTerm;
                    searchInput.dispatchEvent(new Event("input"));
                    searchInput.focus();
                    recordSearch(term); // Record click as search
                });
                el.appendChild(chip);
            });
        }

        // 3. Render Suggested Products (Catalog Mock)
        // Unified Catalog Data
        const CATALOG = [
            { name: "FOUR MagCore", image: "https://placehold.co/150x150/F3F3F3/0A0A0A?text=MagCore", url: "#signature-collections" },
            { name: "Wireless Charging Stand", image: "https://placehold.co/150x150/F3F3F3/0A0A0A?text=Charger", url: "#explore-lineup" },
            { name: "Modular Storage Box", image: "https://placehold.co/150x150/F3F3F3/0A0A0A?text=Storage", url: "#explore-lineup" },
            { name: "Monitor Riser Pro", image: "https://placehold.co/150x150/F3F3F3/0A0A0A?text=Riser", url: "#explore-lineup" },
            { name: "Cable Management Kit", image: "https://placehold.co/150x150/F3F3F3/0A0A0A?text=Cable", url: "#explore-lineup" },
            { name: "Desk Mat Premium", image: "https://placehold.co/150x150/F3F3F3/0A0A0A?text=Mat", url: "#explore-lineup" }
        ];

        function renderSuggestedProducts(){
            const wrap = document.getElementById("suggestedProducts");
            if(!wrap) return;
            wrap.innerHTML = "";

            // REVISI: HANYA 1 Produk Spesifik
            const suggestedItem = {
                name: "FOUR MagCore â€” Magnetic Focus Dock (Qi Wireless, Modular Mount)",
                image: "https://placehold.co/150x150/F3F3F3/0A0A0A?text=MagCore+Focus",
                url: "#signature-collections"
            };

            const card = document.createElement("button");
            card.type = "button";
            card.className = "ssp-product";
            card.innerHTML = `
                <span class="ssp-thumb"><img src="${suggestedItem.image}" alt="${suggestedItem.name}"></span>
                <span class="ssp-name">${suggestedItem.name}</span>
            `;
            card.addEventListener("click", () => {
                closeSearch();
                window.location.href = suggestedItem.url;
            });
            wrap.appendChild(card);
        }

        // 4. Open/Close Logic
        const openSearch = () => {
          setHeaderInteraction(true); 
          searchOverlay.classList.add("active");
          searchDropdown.classList.add("active");
          
          // Render Smart Panel Content
          renderTopSearches();
          renderSuggestedProducts();
          
          // Reset View
          if(!searchInput.value.trim()){
              searchSmartPanel.style.display = "";
              searchResults.style.display = "none";
          }
          
          setTimeout(() => searchInput && searchInput.focus(), 60);
        };

        const closeSearch = () => {
          const storeMenu = document.getElementById("store-menu");
          const isStoreOpen = storeMenu && storeMenu.classList.contains("is-open");
          const isDrawerOpen = document.getElementById('mobile-drawer-overlay')?.classList.contains('active');

          if (!isStoreOpen && !isDrawerOpen) {
             setHeaderInteraction(false); 
          }

          searchOverlay.classList.remove("active");
          searchDropdown.classList.remove("active");
        };

        // Attach listeners (Desktop & Mobile)
        if(openSearchBtn) openSearchBtn.addEventListener("click", openSearch);
        if(openSearchMobile) openSearchMobile.addEventListener("click", openSearch);
        
        searchCloseBtn?.addEventListener("click", closeSearch);
        searchOverlay?.addEventListener("click", closeSearch);

        document.addEventListener("keydown", (e) => {
          if (e.key === "Escape") closeSearch();
        });

        // 5. Live Search & Input Handling
        searchInput?.addEventListener("input", (e) => {
            const q = e.target.value.trim().toLowerCase();
            
            if (!q) {
                // Show Smart Panel, Hide Results
                searchSmartPanel.style.display = "";
                searchResults.style.display = "none";
                return;
            }

            // Hide Smart Panel, Show Results
            searchSmartPanel.style.display = "none";
            searchResults.style.display = "";
            searchResults.innerHTML = "";

            const filtered = CATALOG.filter(p => p.name.toLowerCase().includes(q));

            if (!filtered.length) {
                searchResults.innerHTML = `<div style="padding:40px 0;text-align:center;color:rgba(0,0,0,.55);font-size:14px;">No results found for "<b>${escapeHtml(q)}</b>"</div>`;
                return;
            }
            
            // Grid for results (using ssp-product style)
            const list = document.createElement("div");
            list.className = "ssp-products"; // Re-use grid layout
            
            filtered.forEach(p => {
                const card = document.createElement("button");
                card.type = "button";
                card.className = "ssp-product"; // Re-use card style
                card.innerHTML = `
                    <span class="ssp-thumb"><img src="${p.image}" alt="${p.name}"></span>
                    <span class="ssp-name">${p.name}</span>
                `;
                card.addEventListener("click", () => {
                    closeSearch();
                    recordSearch(q); // Save query on click
                    window.location.href = p.url;
                });
                list.appendChild(card);
            });
            searchResults.appendChild(list);
        });

        // Handle Enter Key
        searchInput?.addEventListener("keydown", (e) => {
            if(e.key === "Enter" && searchInput.value.trim()){
                recordSearch(searchInput.value);
                // Trigger first result if available or just close? 
                // For now, reload top searches for next time
                renderTopSearches();
            }
        });

        function escapeHtml(str) {
            return String(str).replace(/[&<>"']/g, s => ({ "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;" }[s]));
        }

        // ... existing app scripts ...
        document.addEventListener('DOMContentLoaded', () => {
            // ... (Drawer Logic Unchanged) ...
            const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
            const drawerOverlay = document.getElementById('mobile-drawer-overlay');

            const toggleDrawer = (open) => {
                if (!drawerOverlay || !mobileMenuToggle) return;
                const currentState = drawerOverlay.classList.contains('active');
                const targetState = (typeof open !== 'undefined') ? open : !currentState;
                const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
                const DURATION = prefersReduced ? 0 : 300;

                if (targetState === true) {
                    setHeaderInteraction(true); // Header solid saat menu buka
                    drawerOverlay.classList.remove('closing'); 
                    drawerOverlay.classList.add('active');
                    mobileMenuToggle.classList.add('active');
                    mobileMenuToggle.setAttribute('aria-expanded', 'true');
                    document.body.style.overflow = 'hidden';
                } else {
                    // Cek search/store active?
                    const isSearchOpen = document.getElementById("searchDropdown")?.classList.contains("active");
                    // REVISI: Cek is-open class
                    const isStoreOpen = document.getElementById("store-menu") && document.getElementById("store-menu").classList.contains("is-open");
                    
                    if (!isSearchOpen && !isStoreOpen) {
                        setHeaderInteraction(false); // Balik transparan
                    }

                    drawerOverlay.classList.add('closing');
                    mobileMenuToggle.classList.remove('active');
                    mobileMenuToggle.setAttribute('aria-expanded', 'false');
                    setTimeout(() => {
                        drawerOverlay.classList.remove('active');
                        drawerOverlay.classList.remove('closing');
                        document.body.style.overflow = '';
                    }, DURATION + 30);
                }
            };
            
            // ... (Rest of logic) ...
            /* ADDED .card-reveal to querySelectorAll so desktop cards are observed! */
            const animationElements = document.querySelectorAll('.reveal-title, .reveal-sub, .card-reveal');
            const revealObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        observer.unobserve(entry.target);
                    }
                });
            }, { root: null, rootMargin: '0px', threshold: 0.1 });
            animationElements.forEach(el => revealObserver.observe(el));

            // Back to top
            const backToTopBtn = document.getElementById('back-to-top');
            backToTopBtn.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));

            // Listeners
            mobileMenuToggle?.addEventListener('click', (e) => {
                e.preventDefault(); e.stopPropagation();
                toggleDrawer();
            });
            drawerOverlay?.addEventListener('click', (e) => {
                if (e.target === drawerOverlay) toggleDrawer(false);
            });
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && drawerOverlay?.classList.contains('active')) toggleDrawer(false);
            });

            // Drawer nav logic
            function closeDrawerAndThen(fn) {
              const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
              const DURATION = prefersReduced ? 0 : 300;
              toggleDrawer(false);
              setTimeout(() => {
                try { fn(); } catch (e) { console.error("Navigation/Scroll function error:", e); }
              }, DURATION + 30);
            }

            document.getElementById('mobile-drawer')?.addEventListener('click', (e) => {
              const a = e.target.closest('a');
              if (!a) return;
              const href = a.getAttribute('href');
              if (!href) return;
              if (a.dataset.nav === "account") return; 

              if (href.startsWith('#')) {
                e.preventDefault();
                const target = document.querySelector(href);
                closeDrawerAndThen(() => target?.scrollIntoView({ behavior: 'smooth', block: 'start' }));
                return;
              }
              e.preventDefault();
              closeDrawerAndThen(() => window.location.assign(href));
            });

            // Store Menu Logic
            const storeBtn = document.getElementById("store-btn");
            const storeMenu = document.getElementById("store-menu");
            const storeArrow = document.getElementById("store-arrow");
            
            storeBtn?.addEventListener("click", (e) => {
                e.stopPropagation();
                // REVISI ANIMASI: Ganti logic hidden jadi class is-open
                storeMenu.classList.toggle("is-open");
                storeArrow.classList.toggle("rotate-180");
                
                // NEW: Update Header Interaction State based on Menu Visibility
                const isOpen = storeMenu.classList.contains("is-open");
                if (isOpen) {
                    setHeaderInteraction(true);
                } else {
                    // Check other states (Search?)
                    const isSearchOpen = document.getElementById("searchDropdown")?.classList.contains("active");
                    if (!isSearchOpen) {
                        setHeaderInteraction(false);
                    }
                }
            });
            
            document.addEventListener("click", (e) => {
                if (storeMenu && !storeMenu.contains(e.target) && !storeBtn.contains(e.target)) {
                    // REVISI: Cek is-open
                    if (storeMenu.classList.contains("is-open")) {
                        // Closing menu via outside click
                        storeMenu.classList.remove("is-open");
                        storeArrow.classList.remove("rotate-180");
                        
                        // Check other states
                        const isSearchOpen = document.getElementById("searchDropdown")?.classList.contains("active");
                        if (!isSearchOpen) {
                            setHeaderInteraction(false);
                        }
                    }
                }
            });

            // Scroll Logic
            const handleScroll = () => {
                const scrollY = window.scrollY;
                const isTop = scrollY <= 10;
                if (isTop) header.classList.add('is-top');
                else header.classList.remove('is-top');
                if (scrollY > 50) header.classList.add('scrolled');
                else header.classList.remove('scrolled');
                if (scrollY > 400) backToTopBtn.classList.remove('opacity-0', 'pointer-events-none');
                else backToTopBtn.classList.add('opacity-0', 'pointer-events-none');
            };
            window.addEventListener('scroll', handleScroll);
            handleScroll();

            // ... (rest of logic: slider, tabs, etc. unchanged) ...
            const slidesContainer = document.getElementById('hero-slides-container');
            if (slidesContainer) {
                const slides = Array.from(slidesContainer.querySelectorAll('.hero-slide'));
                const segments = document.querySelectorAll('.hero-progress-segment');
                const prevBtn = document.getElementById('hero-prev');
                const nextBtn = document.getElementById('hero-next');
                let currentSlide = 0;
                let slideInterval = null;

                function updateProgress(index) {
                    segments.forEach((seg, i) => {
                        seg.classList.remove('active', 'passed');
                        if (i < index) seg.classList.add('passed');
                        else if (i === index) {
                            void seg.offsetWidth; 
                            seg.classList.add('active');
                        }
                    });
                }
                function showSlide(index) {
                    index = (index + slides.length) % slides.length;
                    slides.forEach((slide, i) => slide.classList.toggle('active', i === index));
                    currentSlide = index;
                    updateProgress(index);
                }
                function nextSlide() { showSlide(currentSlide + 1); }
                function startSlider() { stopSlider(); slideInterval = setInterval(nextSlide, 5000); }
                function stopSlider() { if(slideInterval) clearInterval(slideInterval); }

                if(prevBtn) prevBtn.addEventListener('click', () => { stopSlider(); showSlide(currentSlide - 1); startSlider(); });
                if(nextBtn) nextBtn.addEventListener('click', () => { stopSlider(); showSlide(currentSlide + 1); startSlider(); });

                showSlide(0);
                startSlider();
            }

            // Tabs Logic (REVISED FOR NEW UI)
            const mwTabs = document.querySelectorAll(".mw-tab");
            const mwIndicator = document.querySelector(".mw-indicator");
            const mwDesc = document.getElementById("mw-desc");
            
            // Image Logic Variables
            const layer1 = document.getElementById('lifestyle-layer-1');
            const layer2 = document.getElementById('lifestyle-layer-2');
            let activeLayerIndex = 1;

            const MW_CONTENT = {
              home: {
                  text: "From kitchen counter to bedside table, FOUR gives every corner of your home the power and order it needsâ€”so you can focus on what matters most.",
                  image: "https://placehold.co/1200x600/F3F3F3/0A0A0A?text=HOME+ORDER+SETUP"
              },
              workspace: {
                  text: "From desk setups to creative studios, FOUR keeps your workspace clean, silent, and distraction-freeâ€”built for deep focus and everyday performance.",
                  image: "https://placehold.co/1200x600/0A0A0A/C7C7C7?text=WORKSPACE+SETUP+IMAGE"
              }
            };

            function moveIndicator(tab){
              if(!mwIndicator || !tab) return;
              // Calc position relative to parent
              const left = tab.offsetLeft;
              const width = tab.offsetWidth;
              mwIndicator.style.width = width + "px";
              mwIndicator.style.transform = `translateX(${left}px)`;
            }

            function setActiveTab(nextTab){
              mwTabs.forEach(t=>{
                const isActive = t === nextTab;
                t.classList.toggle("active", isActive);
                t.setAttribute("aria-selected", isActive ? "true" : "false");
              });

              moveIndicator(nextTab);

              const key = nextTab.dataset.tab;
              if(mwDesc && MW_CONTENT[key]){
                // 1. Text Transition
                mwDesc.style.opacity = "0";
                
                // 2. Image Transition
                const targetImage = MW_CONTENT[key].image;
                const nextLayer = activeLayerIndex === 1 ? layer2 : layer1;
                const currentLayer = activeLayerIndex === 1 ? layer1 : layer2;
                
                const imgPreloader = new Image();
                imgPreloader.src = targetImage;
                imgPreloader.onload = () => {
                    nextLayer.style.backgroundImage = `url('${targetImage}')`;
                    nextLayer.classList.add('active');
                    currentLayer.classList.remove('active');
                    activeLayerIndex = activeLayerIndex === 1 ? 2 : 1;
                };

                setTimeout(()=>{
                  mwDesc.textContent = MW_CONTENT[key].text;
                  mwDesc.style.opacity = "1";
                }, 220); // Sync text fade with indicator movement roughly
              }
            }

            mwTabs.forEach(tab=>{
              tab.addEventListener("click", ()=> setActiveTab(tab));
            });

            // Init tabs on load and resize
            const initTabs = () => {
                const active = document.querySelector(".mw-tab.active") || mwTabs[0];
                if(active) {
                    moveIndicator(active);
                    // Ensure image logic is synced initially without animation if needed, 
                    // but default HTML has Layer 1 active, so it's fine.
                }
            };
            
            // Wait for layout
            setTimeout(initTabs, 100);
            window.addEventListener("resize", initTabs);

            // Accordion Logic
            const accButtons = document.querySelectorAll(".acc-btn");
            function closeAccItem(btn){
                btn.setAttribute("aria-expanded", "false");
                btn.nextElementSibling.classList.remove("is-open");
                btn.nextElementSibling.style.maxHeight = "0px";
            }
            function openAccItem(btn){
                btn.setAttribute("aria-expanded", "true");
                const panel = btn.nextElementSibling;
                panel.classList.add("is-open");
                panel.style.maxHeight = panel.scrollHeight + "px";
            }
            accButtons.forEach((btn) => {
                btn.addEventListener("click", () => {
                    const isOpen = btn.getAttribute("aria-expanded") === "true";
                    accButtons.forEach(other => { if (other !== btn) closeAccItem(other); });
                    if (!isOpen) openAccItem(btn); else closeAccItem(btn);
                });
            });
            window.addEventListener("resize", () => {
                accButtons.forEach((btn) => {
                    if (btn.getAttribute("aria-expanded") === "true") {
                        btn.nextElementSibling.style.maxHeight = btn.nextElementSibling.scrollHeight + "px";
                    }
                });
            });

            // ===== SHOPPING CART DRAWER LOGIC (NEW) =====
            const CART_KEY = "four_cart";
            function getCart(){ try { return JSON.parse(localStorage.getItem(CART_KEY)) || []; } catch { return []; } }
            function setCart(cart){ localStorage.setItem(CART_KEY, JSON.stringify(cart)); }
            function money(n){ return `$${Number(n).toFixed(2)}`; }

            function renderCartDrawer(){
                const itemsEl = document.getElementById("cartDrawerItems");
                const subtotalEl = document.getElementById("cartSubtotal");
                const cart = getCart();

                if(!itemsEl || !subtotalEl) return;

                if(cart.length === 0){
                    itemsEl.innerHTML = `<div style="padding:40px 0;text-align:center;color:#999;">Your cart is empty.</div>`;
                    subtotalEl.textContent = money(0);
                    return;
                }

                let subtotal = 0;
                itemsEl.innerHTML = cart.map((item, idx) => {
                    const line = item.price * item.qty;
                    subtotal += line;
                    return `
                      <div class="cart-item">
                        <div class="cart-item__thumb">
                          ${item.image ? `<img src="${item.image}" alt="${item.name}">` : ``}
                        </div>
                        <div>
                          <div class="cart-item__name">${item.name}</div>
                          <div class="cart-item__meta">Finish: ${item.variantName || item.variant}</div>
                          <div class="cart-item__row">
                            <div class="cart-item__price">${money(item.price)}</div>
                            <div style="display:flex; align-items:center; gap:12px;">
                              <div class="stepper">
                                <button type="button" data-action="dec" data-idx="${idx}">âˆ’</button>
                                <span>${item.qty}</span>
                                <button type="button" data-action="inc" data-idx="${idx}">+</button>
                              </div>
                              <button class="remove-btn" type="button" data-action="remove" data-idx="${idx}" aria-label="Remove">
                                <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"/></svg>
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    `;
                }).join("");
                subtotalEl.textContent = money(subtotal);

                itemsEl.querySelectorAll("button[data-action]").forEach(btn => {
                    btn.addEventListener("click", () => {
                        const action = btn.getAttribute("data-action");
                        const idx = Number(btn.getAttribute("data-idx"));
                        const cart = getCart();
                        if(!cart[idx]) return;
                        
                        if(action === "inc") cart[idx].qty += 1;
                        if(action === "dec") cart[idx].qty = Math.max(1, cart[idx].qty - 1);
                        if(action === "remove") cart.splice(idx, 1);
                        
                        setCart(cart);
                        renderCartDrawer();
                    });
                });
            }

            function openCartDrawer(){
                const drawer = document.getElementById("cartDrawer");
                const overlay = document.getElementById("cartOverlay");
                if(!drawer || !overlay) return;
                renderCartDrawer();
                drawer.classList.add("is-open");
                overlay.classList.add("is-open");
                drawer.setAttribute("aria-hidden","false");
                overlay.setAttribute("aria-hidden","false");
                document.body.style.overflow = 'hidden';
            }

            function closeCartDrawer(){
                const drawer = document.getElementById("cartDrawer");
                const overlay = document.getElementById("cartOverlay");
                if(!drawer || !overlay) return;
                drawer.classList.remove("is-open");
                overlay.classList.remove("is-open");
                drawer.setAttribute("aria-hidden","true");
                overlay.setAttribute("aria-hidden","true");
                document.body.style.overflow = '';
            }

            const cartOverlay = document.getElementById("cartOverlay");
            const cartCloseBtn = document.getElementById("cartCloseBtn");
            const viewCartBtn = document.getElementById("viewCartBtn");
            const checkoutBtn = document.getElementById("checkoutBtn");

            cartOverlay?.addEventListener("click", closeCartDrawer);
            cartCloseBtn?.addEventListener("click", closeCartDrawer);
            document.addEventListener("keydown", (e) => { if(e.key === "Escape") closeCartDrawer(); });

            viewCartBtn?.addEventListener("click", () => {
                 window.location.href = "cart.html";
            });

            // PDP Data & Add to Cart
            const pdpData = {
                currentVariantId: 'obsidian-black',
                qty: 1,
                variants: [
                    { id: 'obsidian-black', name: 'Obsidian Black', image: 'https://placehold.co/800x1000/F3F3F3/0A0A0A?text=ANCHOR+MAG+%E2%80%94+BLACK', thumb: 'https://placehold.co/150x150/F3F3F3/0A0A0A?text=Black' },
                    { id: 'lunar-silver', name: 'Lunar Silver', image: 'https://placehold.co/800x1000/E5E5E5/0A0A0A?text=ANCHOR+MAG+%E2%80%94+SILVER', thumb: 'https://placehold.co/150x150/E5E5E5/0A0A0A?text=Silver' },
                    { id: 'deep-navy', name: 'Deep Navy', image: 'https://placehold.co/800x1000/1A237E/FFFFFF?text=ANCHOR+MAG+%E2%80%94+NAVY', thumb: 'https://placehold.co/150x150/1A237E/FFFFFF?text=Navy' }
                ]
            };

            const pdpMainImage = document.getElementById('pdp-main-image');
            const pdpThumbsContainer = document.getElementById('pdp-thumbs-container');
            const pdpVariantSwatches = document.getElementById('pdp-variant-swatches');
            const pdpVariantLabel = document.getElementById('pdp-variant-label');
            const pdpQtyInput = document.getElementById('pdp-qty-input');
            const qtyMinusBtn = document.getElementById('qty-minus');
            const qtyPlusBtn = document.getElementById('qty-plus');
            const pdpPreOrderBtn = document.getElementById('pdp-preorder-btn');
            const pdpAddToCartBtn = document.getElementById('pdp-add-to-cart');

            // Render Thumbs & Swatches
            if (pdpThumbsContainer && pdpVariantSwatches) {
                pdpData.variants.forEach(variant => {
                    const thumb = document.createElement('div');
                    thumb.className = `variant-thumb flex-shrink-0 w-20 h-20 bg-gray-100 rounded overflow-hidden ${variant.id === pdpData.currentVariantId ? 'active' : ''}`;
                    thumb.innerHTML = `<img src="${variant.thumb}" alt="${variant.name}" class="w-full h-full object-cover">`;
                    thumb.onclick = () => selectVariant(variant.id);
                    pdpThumbsContainer.appendChild(thumb);

                    const swatch = document.createElement('div');
                    swatch.className = `variant-thumb w-12 h-12 bg-gray-100 rounded-full overflow-hidden ${variant.id === pdpData.currentVariantId ? 'active' : ''}`;
                    swatch.innerHTML = `<img src="${variant.thumb}" alt="${variant.name}" class="w-full h-full object-cover">`;
                    swatch.onclick = () => selectVariant(variant.id);
                    pdpVariantSwatches.appendChild(swatch);
                });
            }

            function selectVariant(id) {
                const variant = pdpData.variants.find(v => v.id === id);
                if (!variant) return;
                pdpData.currentVariantId = id;
                if (pdpVariantLabel) pdpVariantLabel.textContent = variant.name;
                if (pdpMainImage) pdpMainImage.src = variant.image;
                
                document.querySelectorAll('.variant-thumb').forEach(el => {
                    el.classList.remove('active');
                    if (el.innerHTML.includes(variant.thumb)) el.classList.add('active');
                });
            }

            if (qtyMinusBtn && qtyPlusBtn && pdpQtyInput) {
                qtyMinusBtn.onclick = () => { if (pdpData.qty > 1) { pdpData.qty--; pdpQtyInput.value = pdpData.qty; } };
                qtyPlusBtn.onclick = () => { pdpData.qty++; pdpQtyInput.value = pdpData.qty; };
            }

            function addToCart(e) {
                if(e) e.preventDefault();
                const currentVariant = pdpData.variants.find(v => v.id === pdpData.currentVariantId);
                const cartItem = {
                    id: 'four-anchor-mag',
                    name: 'FOUR ANCHOR / MAG',
                    variantId: currentVariant.id,
                    variantName: currentVariant.name,
                    price: 129.00,
                    qty: pdpData.qty,
                    image: currentVariant.thumb
                };

                const cart = getCart();
                const existing = cart.find(x => x.id === cartItem.id && x.variantId === cartItem.variantId);
                if(existing) existing.qty += cartItem.qty;
                else cart.push(cartItem);
                
                setCart(cart);
                openCartDrawer();
            }

            if (pdpPreOrderBtn) pdpPreOrderBtn.addEventListener('click', addToCart);
            if (pdpAddToCartBtn) pdpAddToCartBtn.addEventListener('click', addToCart);

            // Anchor Tabs
            const anchorTabs = document.querySelectorAll('.anchor-tab-button');
            const anchorTabIndicator = document.getElementById('anchor-tab-indicator');
            const anchorContentWrapper = document.getElementById('anchor-content-wrapper');
            const anchorHeading = document.getElementById('anchor-h1');
            const anchorDescription = document.getElementById('anchor-description');
            const anchorCardTrack = document.getElementById('anchor-card-track');
            const anchorContentData = {
                mag: { title: 'FOUR ANCHOR / MAG', description: 'Magnetic-ready stability...', cards: ['Desk-mounted stability', 'Magnetic-ready interaction', 'Minimalist form', 'Premium material contrast'] },
                core: { title: 'FOUR ANCHOR / CORE', description: 'Pure stability and clean form...', cards: ['Desk-mounted stability', 'Clean minimalist form', 'Refined materials', 'Ergonomic positioning'] }
            };

            function updateAnchorCards(cards) {
                anchorCardTrack.innerHTML = '';
                cards.slice(0, 4).forEach(label => {
                    const imageUrl = `https://placehold.co/400x500/F3F3F3/0A0A0A?text=${label.replace(/[^a-zA-Z0-9]/g, '+')}`;
                    anchorCardTrack.insertAdjacentHTML('beforeend', `<a href="#" class="category-box group card-reveal"><div class="category-media"><img src="${imageUrl}" alt="${label}" width="100%" height="100%" loading="lazy"></div><p class="category-label">${label}</p></a>`);
                });
            }

            function switchAnchorTab(tabName) {
                const targetContent = anchorContentData[tabName];
                const targetButton = document.querySelector(`[data-anchor-tab="${tabName}"]`);
                if (!targetButton) return;
                
                anchorContentWrapper.style.transition = 'opacity 0.2s ease-out';
                anchorContentWrapper.style.opacity = '0';
                anchorTabs.forEach(btn => btn.classList.remove('active'));
                targetButton.classList.add('active');

                setTimeout(() => {
                    const targetRect = targetButton.getBoundingClientRect();
                    const containerRect = targetButton.parentNode.getBoundingClientRect();
                    anchorTabIndicator.style.width = `${targetRect.width}px`;
                    anchorTabIndicator.style.transform = `translateX(${targetRect.left - containerRect.left}px)`;

                    anchorHeading.textContent = targetContent.title;
                    anchorDescription.textContent = targetContent.description;
                    updateAnchorCards(targetContent.cards);
                    
                    anchorContentWrapper.style.transition = 'opacity 0.2s ease-in 0.15s';
                    anchorContentWrapper.style.opacity = '1';
                }, 150);
            }
            anchorTabs.forEach(btn => btn.addEventListener('click', () => switchAnchorTab(btn.dataset.anchorTab)));
            setTimeout(() => switchAnchorTab('mag'), 150);

            // ===== SWIPE HINT ANIMATION (MOBILE ONLY) =====
            // Logika: Cek mobile, cek session storage, observe viewport, lalu wiggle.
            const lineupContainer = document.getElementById('lineup-container');
            
            if (lineupContainer && window.innerWidth < 768) {
                const hintKey = 'four_swipe_hint_shown';
                const hasHinted = sessionStorage.getItem(hintKey);

                if (!hasHinted) {
                    const hintObserver = new IntersectionObserver((entries) => {
                        entries.forEach(entry => {
                            if (entry.isIntersecting) {
                                // Set flag dulu biar gak looping
                                sessionStorage.setItem(hintKey, 'true');
                                
                                // Delay dikit biar user sadar sectionnya udah load
                                setTimeout(() => {
                                    // Gerak ke kanan 120px
                                    lineupContainer.scrollBy({ left: 120, behavior: 'smooth' });
                                    
                                    // Balik ke kiri setelah animasi pertama kira-kira selesai
                                    setTimeout(() => {
                                        lineupContainer.scrollBy({ left: -120, behavior: 'smooth' });
                                    }, 800); // Durasi delay antar gerakan
                                    
                                }, 600); // Delay awal setelah masuk viewport
                                
                                hintObserver.disconnect(); // Stop observing
                            }
                        });
                    }, { threshold: 0.6 }); // Trigger kalau 60% container udah kelihatan

                    hintObserver.observe(lineupContainer);
                }
            }

        });
    </script>
</body>
</html>
